const BASE_PATH = './Documents/21-notes/03-hobbies/02-basketball';
const templates = {
  "1": {
    "title": "1main_links (txt)",
    "content": "https://codepen.io/Groundedelectron/pen/RwdZzNE/df4ad16309ab274b85db2e7261a09383; Pen Link"
  },
  "2": {
    "title": "2_links (txt)",
    "content": "https://stanleysjourney.com/image_gallery/basketball/spin_move1/; spin move(image_gallery/basketball/spin_move1/)\nhttps://stanleysjourney.com/video_gallery/basketball/players_at_gym; players_at_gym / video gallery (/basketball/players..)"
  },
  "3": {
    "title": "4_out_basketball (txt)",
    "content": "basketball\n\nso what it is, is this that you keep low and stay low with your hands out you can control the ball better move the ball behind your palm \n\nso pretty much it's this, and then get pressure you can pass it out behind you always, \n\n\nhttps://www.youtube.com/watch?v=BSjpPg7qJvY; 4 Out motion offense"
  },
  "4": {
    "title": "achilles (txt)",
    "content": "Absolutely! Here‚Äôs your updated summary with key preventative tips included:\n\n---\n\n<h2>Notes: Upright Positioning & Achilles Injury Prevention in Basketball</h2>\n\n<h3>**Positioning and Movement**</h3>\n- **Stay More Upright:**  \n  Keep your torso upright and hips back when preparing to rebound or move, rather than leaning your chest far forward over your toes.\n- **Reduce Deep Squats:**  \n  Avoid deep knee bends and extreme ankle dorsiflexion (foot close to shin) unless absolutely necessary for the play.\n- **Balance Weight:**  \n  Center your weight over the balls of your feet‚Äîavoid shifting too far forward or back.\n- **Controlled Movements:**  \n  Jump and push off with smooth, controlled motions. Avoid explosive movements from a deeply flexed, forward-leaning position.\n- **Protect the Achilles:**  \n  Upright, balanced posture allows your calf muscles to absorb force and reduces excessive strain on the Achilles tendon.\n\n<h3>**Preventative Tips**</h3>\n- **Calf Strengthening:**  \n  Do regular calf raises and eccentric heel drops to build tendon and muscle resilience.\n- **Ankle Mobility:**  \n  Stretch your calves and work on ankle flexibility to allow safe movement without overstressing the tendon.\n- **Proper Warm-Up:**  \n  Always warm up thoroughly before playing, focusing on dynamic stretches for the calves and ankles.\n- **Gradual Load Increase:**  \n  Increase intensity and playing time gradually to avoid sudden overload on your tendons.\n- **Listen to Your Body:**  \n  Rest and address any calf tightness, soreness, or minor strains before they become bigger issues.\n- **Supportive Footwear:**  \n  Wear basketball shoes that provide good heel and ankle support.\n\n---\n\n**Key Point:**  \n**Staying upright, using controlled movements, and following preventative strategies greatly reduce your risk of Achilles injury during basketball.**"
  },
  "5": {
    "title": "basketball_commentary (txt)",
    "content": "\"One stop!\" Coach yells as the defense sets up.\n\"Come on Miles!\" The crowd encourages as he brings the ball up court.\n\"Do it again, atta boy!\" Teammates cheer after a perfect pick and roll.\n\"No threes!\" The defensive call echoes as they protect their lead.\n\"Crash the boards!\" Veterans remind as the shot goes up.\n\"Hands up!\" Assistant coaches gesture from the sideline.\n\"Switch!\" Players communicate through the defensive screen.\n\"Get big!\" The center establishes position in the paint.\n\"Run the floor!\" Transition offense begins after the rebound.\n\"Find a body!\" Rebounding fundamentals take priority.\n\"Move your feet!\" Defensive discipline remains essential.\n\n\nHere's how you could organize a basketball fundamentals folder structure with links and images:\n\n<h2>Folder Structure</h2>\n\n**üìÅ DRIBBLING**\n- Images: Hand positions, ball control drills, crossover sequences\n- Videos: Ball handling routines, cone drills, stationary vs moving dribbles\n- Links: YouTube tutorials, drill progressions, common mistakes\n\n**üìÅ SHOOTING**\n- Images: Proper form breakdown (feet, knees, elbow, follow-through), shot arc diagrams\n- Videos: Shooting mechanics, free throw routine, different shot types\n- Links: Form shooting drills, percentage tracking apps, shooting coach resources\n\n**üìÅ PASSING**\n- Images: Chest pass, bounce pass, overhead pass form, target zones\n- Videos: Passing drills, decision-making scenarios, no-look passes\n- Links: Passing drill libraries, court vision training, passing accuracy tips\n\n**üìÅ REBOUNDING**\n- Images: Boxing out technique, positioning diagrams, hands placement\n- Videos: Rebounding drills, timing jumps, outlet passes\n- Links: Rebounding fundamentals, stat tracking, strength training for rebounds\n\n**üìÅ DEFENSE**\n- Images: Defensive stance, hand positioning, help defense rotations\n- Videos: 1-on-1 defense, team defensive concepts, closeout techniques\n- Links: Defensive drills, communication tips, advanced defensive schemes\n\n**üìÅ FOOTWORK**\n- Images: Pivot foot diagrams, cutting patterns, triple threat position\n- Videos: Agility ladder drills, pivot moves, explosive first steps\n- Links: Footwork exercises, balance training, quickness development\n\n**üìÅ SCREENING**\n- Images: Screen angles, pick and roll diagrams, legal vs illegal screens\n- Videos: Screen setting technique, using screens effectively, timing\n- Links: Screen plays, practice drills, reading defenses\n\nEach folder could have subfolders like \"Beginner,\" \"Intermediate,\" and \"Advanced\" to organize content by skill level."
  },
  "6": {
    "title": "basketball_dribble_to_shot (txt)",
    "content": "https://www.youtube.com/watch?v=5dZHXwOCxH4; yuki\nhere in this video if you go will see him dribble into a shot."
  },
  "7": {
    "title": "basketball_driving (txt)",
    "content": "you got snatchback \n\n\n{url}/content/driving/index.html; driving\nimage 1 is snatchback\n\n\nbumping in other images"
  },
  "8": {
    "title": "basketball_galleries (txt)",
    "content": "{url}/content/dribbling/spin_move1_img/index.html; Spin\n{url}/content/player_videos/index.html; Player videos\n{url}/index.html"
  },
  "9": {
    "title": "basketball_handles (txt)",
    "content": "https://www.youtube.com/watch?v=Mao53nH5IF0; hodges get shifty like irving\nhere in this video, 1:53, right right between the legs then back between\nfloat dribble cross to other hand then in and out then between the legs, then\n\n\n{url}/content/dribbling/counter_cross1/index.html; counter cross\n{url}/content/dribbling/spin_move1_img/index.html; spin move"
  },
  "10": {
    "title": "basketball_top_of_key (txt)",
    "content": "{url}/content/top_of_key/index.html; top of key"
  },
  "11": {
    "title": "boxing_out (txt)",
    "content": "what to do, \n\nwhen I am down low use your forarm hi your meat there to get him off, and look at where the ball is so you can box out.  find the other persons' stomach and \n\n\n\n\nAbsolutely‚Äîif you‚Äôre a shorter player, the **stomach or midsection** is the ideal target when initiating contact for a box out. Here‚Äôs why and how to do it:\n\n\nhttps://www.basketballforcoaches.com/box-out-basketball/; boxing out\n\n\n---\n\n<h2>Why Aim for the Stomach/Midsection?</h2>\n\n- **Leverage:** As a shorter player, you naturally have a lower center of gravity. Targeting the opponent‚Äôs midsection (between the sternum and opposite shoulder) lets you use your body weight and strength more effectively.\n- **Balance:** Making contact lower on their body helps you stay balanced and makes it harder for taller players to reach over you without fouling.\n- **Legal Positioning:** Contact at the midsection is less likely to be called a foul than contact higher up (like the back or shoulders).\n\n---\n\n<h2>How to Execute the Technique</h2>\n\n1. **Get Low:** Bend your knees and keep your hips down. This makes you strong and stable.\n2. **Forearm Contact:** Use your forearm (below the elbow, above the wrist) to ‚Äúfind‚Äù your opponent. Don‚Äôt swing or shove‚Äîjust make solid, controlled contact.\n3. **Aim for the Stomach/Opposite Shoulder:** Your forearm should make contact between the opponent‚Äôs sternum and their opposite shoulder. This gives you maximum leverage without risking a foul.\n4. **Seal and Pivot:** After contact, pivot so your back and hips are between your opponent and the basket. Use your hips and backside to ‚Äúpush out‚Äù and move them away from the rim.\n5. **Keep Arms Up:** Once you‚Äôve established position, keep your arms up and wide to be ready for the rebound.\n\n---\n\n<h2>Quick Tips</h2>\n\n- **Stay Low:** The lower you are, the harder you are to move.\n- **Don‚Äôt Overextend:** Keep your elbows in and avoid pushing, which can draw a foul.\n- **Use Your Legs:** The power comes from your legs and hips, not your arms.\n\n---\n\n<h3>Summary Table</h3>\n\n| Step                | Action                                    | Why It Works                        |\n|---------------------|-------------------------------------------|-------------------------------------|\n| Get Low             | Bend knees, hips down                     | Improves balance and leverage       |\n| Forearm Contact     | Find opponent‚Äôs midsection                | Legal, strong point of contact      |\n| Seal and Pivot      | Turn, use hips/backside to push out       | Moves opponent, maintains position  |\n| Arms Up             | Ready for rebound                         | Increases rebounding chances        |\n\n---\n\n**Bottom Line:**  \nIf you‚Äôre shorter, targeting the stomach/midsection with your forearm gives you the best shot at winning the box out‚Äîusing your natural leverage and keeping the play legal and effective. Practice this technique, and you‚Äôll become a tough rebounder no matter your height!\n\n\n\n\nhttps://www.youtube.com/watch?v=4egAwsE38ik&t=275s; low-post nudge him out, Kyle Lowry\n\n\nAs a shorter basketball player, when your opponent plants and posts up, fronting them can be an effective strategy‚Äîbut it depends on the situation and your team‚Äôs defensive awareness.\n\nFronting the Post: Pros and Cons\n\nPros:\n\nDenies Easy Entry Passes: By standing between the offensive player and the ball, you make it much harder for your opponent to receive the ball in the post, especially if they have a size advantage.\n\nReduces Scoring Opportunities: If you‚Äôre active and make the pass look difficult, the offense may be reluctant to risk a turnover by attempting a lob or skip pass.\n\nEncourages Team Help: Fronting works best when your teammates are ready to help if the offense tries a lob over the top. This ‚Äúsandwich‚Äù defense can trap the post player if executed well.\n\nCons:\n\nRequires Help Defense: If your teammates don‚Äôt provide help, a lob pass over you can lead to an easy basket for the post player.\n\nRisk of Getting Sealed: If you‚Äôre not balanced or don‚Äôt have good footwork, a savvy post player might seal you off or get deep position for a lob.\n\nOther Effective Strategies for Shorter Defenders\n\nUse Leverage and Positioning: Plant yourself low, use your hips and legs for leverage, and try to force the post player away from their preferred spot.\n\nDeny Deep Position: Don‚Äôt let them get too close to the basket. Meet them higher up and bump them off their path.\n\nBe Physical and Scrappy: Make them uncomfortable, keep your hands active to disrupt dribbles and passes, and be ready to swipe at the ball if they bring it low.\n\nTake Charges: If you‚Äôre quick and can anticipate, taking a charge when the post player backs you down is a sneaky way to get a stop.\n\nSummary Table: Post Defense Options for Shorter Players\n\nStrategy\tWhen to Use\tKey Points\nFront the Post\tOpponent is strong scorer\tDeny entry pass, needs help defense\nPlay Behind\tOpponent is less skilled\tUse leverage, keep them off the block\nBump the Cutter\tBefore post-up occurs\tMeet early, redirect their path\nTake a Charge\tAggressive post play\tSell the foul, stay balanced\nConclusion\n\nFronting is often the best option for a shorter player if you have help defense and can deny the entry pass. However, if you‚Äôre on your own or not confident in your team‚Äôs help, focus on using leverage, staying low, and making the post player‚Äôs life difficult with physical play and active hands. Always communicate with your teammates to ensure help is available if you choose to front the post."
  },
  "12": {
    "title": "chinese_test (txt)",
    "content": "ÂâØÁ∏ΩÁµ±Ëê¨ÊñØË´áË´ñËÅØÈÇ¶ÊîøÂ∫úÂú®Âä†Â∑ûÁßªÊ∞ëÂü∑Ê≥ïË°åÂãïÊôÇÔºåÂ∞áÊ∞ë‰∏ªÈª®Á±çËÅØÈÇ¶ÂèÉË≠∞Âì°Â∏ïËø™ÊãâÔºàÂ∑¶ÔºâË™™ÊàêÂè¶‰∏ÄÂÄãÂêåÂßì‰ΩÜ‰∏çÂêåÂêçÁöÑÁΩ™ÁäØÔºåÂºïÁôºÊ∞ë‰∏ªÈª®‰∫∫ÊâπË©ï„ÄÇ ÁæéËÅØÁ§æÂêà‰ΩµÂúñÁâá\nÊú¨Â†±Ë®ä\n\nÂâØÁ∏ΩÁµ±Ëê¨ÊñØÔºàJD VanceÔºâË´áË´ñËÅØÈÇ¶ÊîøÂ∫úÂú®Âä†Â∑ûÁßªÊ∞ëÂü∑Ê≥ïË°åÂãïÊôÇÔºåÂ∞áÊ∞ë‰∏ªÈª®Á±çËÅØÈÇ¶ÂèÉË≠∞Âì°Â∏ïËø™ÊãâÔºàAlex PadillaÔºâË™™ÊàêÂè¶‰∏ÄÂÄãÂêåÂßì‰ΩÜ‰∏çÂêåÂêçÁöÑÁΩ™ÁäØÔºåÂºïÁôºÊ∞ë‰∏ªÈª®‰∫∫‰∏ÄÈÄ£‰∏≤ÊâπË©ï„ÄÇÁï∂‰∫ã‰∫∫Â∏ïËø™ÊãâÊåáË≤¨Ôºå‰∫ã‰ª∂ÂèçÊò†ÁâπÊúóÊôÆÊîøÂ∫ú„ÄåÂøÉËÉ∏ÁãπÁ™Ñ„ÄçÔºåÊãíÁµï‰ª•Âö¥ËÇÖÁöÑÊÖãÂ∫¶ËôïÁêÜÂúãÂÆ∂Â§ß‰∫ãÔºåÂä†Â∑ûÂÖ∂‰ªñÊ∞ë‰∏ªÈª®ÂÆòÂì°‰πüË≥™ÁñëÔºåËê¨ÊñØÊïÖÊÑèÊ∑∑Ê∑ÜÂßìÂêçÊó®Âú®‰∏≠ÂÇ∑„ÄÇ"
  },
  "13": {
    "title": "coaching (txt)",
    "content": "<a href=\"{url}/pdf_content/coaching_five_motion/coaching_five_motion.pdf\" target=\"_blank\" style=\"color: #0066cc; text-decoration: none; border-bottom: 1px dotted #0066cc;\">link to pdf</a>"
  },
  "14": {
    "title": "contact_sport (txt)",
    "content": "<h1>Basketball as a Contact Sport - Key Notes</h1>\n\n<h2>Contact vs. Collision Sports</h2>\n\n**Basketball = Contact Sport**\n- Physical contact happens regularly but is incidental to the main objectives\n- Primary goals: shooting, passing, dribbling, defending\n- Contact is NOT the objective of the game\n\n**Collision Sports (Football, Rugby)**\n- Rules encourage/require physical domination\n- Tackling and bringing opponents to the ground is part of strategy\n- Contact is a primary objective\n\n<h2>Basketball's Approach to Contact</h2>\n\n<h3>Rule Structure</h3>\n- Fouls called for excessive contact (pushing, holding, hitting)\n- Technical fouls for unsportsmanlike conduct\n- Rules designed to limit excessive contact\n- Game flows better when players stay upright and mobile\n\n<h3>Legitimate Physical Play</h3>\n- **Screens**: Creating stationary obstacles, not delivering hits\n- **Boxing out**: Using body position for rebounding advantage\n- **Post play**: Gradual backing down using body weight and leverage\n- **Paint positioning**: Controlled pressure to establish/maintain position\n\n<h2>Key Principle: Leverage Over Force</h2>\n\n<h3>Strategic Positioning</h3>\n- Using body positioning, footwork, and leverage for tactical advantages\n- Reading opponent's momentum and using proper technique\n- Focus on timing, balance, and body control rather than raw physicality\n\n<h3>Controlled Physicality</h3>\n- Gradual, sustained pressure rather than violent impacts\n- Making opponents uncomfortable through steady positioning\n- Chess match of body positioning within the rules\n- Goal is positional advantage, not physical domination\n\n<h2>Summary</h2>\nBasketball physicality is about **strategic positioning and controlled leverage**, not about knocking opponents down or overpowering them through collision."
  },
  "15": {
    "title": "create_shot (txt)",
    "content": "{url}/content/create_shot/index.html; create shot videos"
  },
  "16": {
    "title": "cross_over_w_defense (txt)",
    "content": "The Crossover Step Into a Shot: Footwork Breakdown\nThe crossover step in basketball is a fundamental move used to change direction quickly, create separation from a defender, and set up for a shot or drive. The footwork involved is crucial for both deception and balance as you transition from the dribble to your shooting motion.\nTypical Sequence of the Crossover Step:\n1.\tInitiate With the Outside Step (Jab Step):\no\tAs you approach your defender while dribbling, you first make a wide step with your outside foot (the foot on the same side as your dribbling hand). This step acts as a fake or jab, selling the idea that you might drive in that direction[1][2].\no\tFor example, if you‚Äôre dribbling with your right hand, your right foot steps out wide to the right.\n2.\tCrossover Dribble and Inside Step:\no\tAs your defender reacts to the jab, you quickly switch the ball to your opposite hand (left hand in this example) with a crossover dribble in front of your body[1][3][2].\no\tSimultaneously, you shift your weight and push off the outside foot, stepping across your body with your inside foot (left foot in this example), which now becomes your lead foot in the new direction.\n3.\tExploding Into the Shot:\no\tAfter the inside step, you‚Äôre now balanced and squared up, ready to either drive further, pull up for a jump shot, or continue your move[4][5].\no\tIf going directly into a shot, you plant your inside foot (now your lead foot after the crossover), gather the ball, and rise up for the jumper.\nHow It Looks in Motion:\n‚Ä¢\tDribble right ‚Üí jab step right (outside foot) ‚Üí crossover dribble left ‚Üí step left (inside foot crosses over) ‚Üí gather and shoot.\nThis movement allows you to deceive the defender with your body and eyes, forcing them to react to your initial outside step. The quick switch to the inside step after the crossover creates separation, giving you space for a clean shot or drive[1][3][2].\nKey Points to Remember:\n‚Ä¢\tThe outside (jab) step sells the fake.\n‚Ä¢\tThe inside step after the crossover is the attacking step, used to gain ground or set your shooting base.\n‚Ä¢\tKeep your dribble low and your body balanced throughout the move.\n‚Ä¢\tThe sequence is: outside step (fake), crossover dribble, inside step (attack), then gather for the shot.\nVisual Example:\n‚Ä¢\tNBA players like Allen Iverson and Kyrie Irving are known for their effective use of this footwork, often using the outside step to freeze defenders before exploding with the inside step into a shot or layup[1][6].\nThis move, when done fluidly, is both deceptive and efficient for creating scoring opportunities.\n‚ÅÇ\n \nwhy would putting your hand out as someone is dribbling up the court discourage his shot\nPutting your hand out as someone is dribbling up the court can discourage their shot for several reasons:\n‚Ä¢\tVisual Distraction and Shot Obstruction: Extending a hand toward the ball handler, especially when they are in shooting range, puts something in their line of sight and can partially obscure their view of the basket. This makes it harder for them to focus on their shooting motion and can force them to adjust their shot trajectory, lowering their accuracy[7].\n‚Ä¢\tSignal of Defensive Readiness: When you have a hand up near the ball or in front of the shooter's face, it signals to the offensive player that you are prepared to contest or block their shot. This psychological pressure can make them hesitate or rethink taking the shot, sometimes leading them to pass or attempt a more difficult move[7].\n‚Ä¢\tPhysical Barrier: A well-placed hand can physically interfere with the shooter's upward motion or shooting pocket. Even if you don't block the shot, your presence makes it riskier for the offensive player to shoot over you, especially if you are close enough to reach the ball as they bring it up[7].\n‚Ä¢\tDiscourages Quick Pull-Ups: If the ball handler is considering a quick pull-up jumper, seeing a defender's hand already up and in position can make them less likely to attempt the shot, knowing it will be closely contested[7].\n‚Ä¢\tMaintains Defensive Balance: Keeping one hand out (usually matching your forward foot) helps you stay balanced and ready to react, whether the offensive player tries to shoot, pass, or drive. This readiness further discourages easy shot attempts[7].\nIn summary, putting your hand out is a fundamental defensive tactic that combines visual deterrence, physical presence, and psychological pressure to make shooting more difficult for the offensive player.\n‚ÅÇ\n \nhow much contact can you make as a defender on the ball handler\nAs a defender, the amount of contact you can make with the ball handler is strictly limited by basketball rules. Here‚Äôs a clear breakdown:\n‚Ä¢\tHands and Arms: You cannot place two hands on the ball handler, keep a hand on them, use an extended arm bar, or make repeated contact with hands (even if alternating hands). Any of these actions are considered personal fouls against the ball handler or dribbler[8][9][10].\n‚Ä¢\tBody Contact: Using your chest to maintain position is generally legal, as long as you are not displacing or impeding the ball handler‚Äôs movement. Incidental contact with your torso is allowed if you have established legal guarding position and are not moving into the offensive player‚Äôs path[11][12][13]. However, using your body to reroute, push, or dislodge the ball handler is a foul[14][9].\n‚Ä¢\tMoving Your Feet: Legal defense involves moving your feet to stay in front of the ball handler and using your body to establish position. You must avoid initiating contact with your hands or arms. If you beat the offensive player to a spot and maintain verticality, contact may be considered incidental and not a foul[11][13][12].\n‚Ä¢\tExceptions in the Post: In the post area, some forearm contact is allowed for maintaining position, but this is only within certain boundaries and cannot be used to displace or control the offensive player[14].\nSummary Table: Legal vs. Illegal Contact\nHands on the defender, not legal, however chest on chest defender with no displacement is legal , incidental -- legal\n\nKey Principle:\nYou can use your body to establish and maintain legal guarding position, but you cannot use your hands, arms, or excessive body contact to control, impede, or displace the ball handler. Most defensive contact should be with your torso, not your hands or arms[8][11][14][9].\n‚ÅÇ\n \nwhat is a good weighted vest for basketball players\n‚ÅÇ\n \nin terms of weight\nFor basketball players, the ideal weight for a weighted vest is generally 5‚Äì10% of your body weight when starting out. This range provides enough resistance to challenge your muscles and improve performance without putting excessive strain on your joints or risking injury[16][17][18]. For example, if you weigh 180 lbs (about 82 kg), a vest between 9 and 18 lbs (4‚Äì8 kg) is recommended for initial training.\nAs you gain experience and your body adapts, you can gradually increase the vest‚Äôs weight, but it‚Äôs important not to exceed 20% of your body weight. Going heavier than this can lead to poor posture, muscle strain, and increased risk of injury, especially during high-impact basketball movements like jumping and sprinting[16][17][18].\nSummary Table: Recommended Weighted Vest Loads\n\nKey Points for Basketball Players:\n‚Ä¢\tStart with 5‚Äì10% of body weight for safe adaptation[16][17][18].\n‚Ä¢\tGradually increase, but do not exceed 20% of body weight[16][17][18].\n‚Ä¢\tLighter vests (closer to 5‚Äì10%) are best for explosive, athletic basketball training to avoid loss of speed and joint stress[17].\n‚Ä¢\tChoose a vest that fits snugly and does not restrict overhead movement for shooting and rebounding[19].\nProduct Examples:\n‚Ä¢\tV-MAX and V-FORCE vests allow you to adjust weight in small increments, making them suitable for progressive basketball training[20][21][22].\nAlways prioritize proper form and listen to your body when training with added weight.\n‚ÅÇ\n \nsimilar to this? WOLF TACTICAL Adjustable Weighted Vest ‚Äì WODs, Strength and Endurance Training, Fitness Workouts, Running\n‚ÅÇ\n \nis this one size fits all? WOLF TACTICAL Adjustable Weighted Vest ‚Äì WODs, Strength and Endurance Training, Fitness Workouts, Running\nVisit the WOLF TACTICAL Store\n‚ÅÇ\n \nweighted vest for lateral drills and latter drills\nFor lateral drills and ladder (agility) drills, the best weighted vests are those that fit snugly, distribute weight evenly, and do not shift or restrict your movement. Here are top options and guidelines based on your needs:\nKey Features to Look For\n‚Ä¢\tSecure, Adjustable Fit: Prevents vest from bouncing or sliding during quick side-to-side or footwork movements.\n‚Ä¢\tEven Weight Distribution: Ensures natural biomechanics and reduces injury risk.\n‚Ä¢\tModerate Weight: Use a vest that is 4‚Äì10% of your body weight; avoid exceeding 10% unless supervised by a coach. Lighter vests (under 6% of body weight) are best for agility and ladder drills to maintain speed and proper form[23].\n\nWhy These Vests Work for Lateral and Ladder Drills\n‚Ä¢\tRingside Weighted Vest: Specifically mentioned for use in lateral drills and ladder/agility work. Its secure fit and ability to adjust the load in small increments make it ideal for quick, multidirectional movements without compromising biomechanics[24][25].\n‚Ä¢\tV-FORCE Basketball Weight Vest: Designed for basketball, this vest is narrow and padded, allowing for full range of motion during lateral and agility drills. The snug fit keeps it stable even during explosive movements[27].\n‚Ä¢\tTitan Fitness Elite Series & miR Pro: Both offer adjustable weights and secure fits, making them suitable for a variety of speed and agility workouts[26][28].\nTraining Tips\n‚Ä¢\tStart Light: Begin with a vest weighing 4‚Äì6% of your body weight for agility drills, and increase gradually as you adapt[23].\n‚Ä¢\tFocus on Form: Keep reps low and prioritize movement quality over speed when using a weighted vest for agility or ladder drills[23].\n‚Ä¢\tAvoid Heavy Loads: Using too much weight can slow you down and increase injury risk during high-speed footwork drills[23].\nSummary\nFor lateral and ladder drills, the Ringside Weighted Vest and V-FORCE Basketball Weight Vest are top choices due to their secure fit and design for dynamic movement[24][27][25]. Always choose a vest that fits snugly, allows for adjustable resistance, and does not hinder your natural movement patterns. Keep the weight moderate to maximize speed and agility benefits while minimizing injury risk[23].\n‚ÅÇ\n \nwhy use a weighted vest for training\nUsing a weighted vest for training offers several scientifically supported benefits that can enhance athletic performance, general fitness, and health:\nKey Benefits of Weighted Vest Training\n‚Ä¢\tIncreases Strength and Power: By adding extra resistance to bodyweight movements (like squats, lunges, push-ups, and sprints), your muscles are forced to work harder. This leads to greater strength gains and improved muscle power, especially in the lower body and core[29][30][31][32][33].\n‚Ä¢\tBoosts Cardiovascular Endurance: Wearing a weighted vest elevates your heart rate and oxygen consumption during aerobic activities such as running, walking, or agility drills. Over time, this improves cardiovascular fitness and stamina[30][34][31][35].\n‚Ä¢\tEnhances Calorie Burn and Fat Loss: The added weight increases the intensity of your workouts, causing you to burn more calories both during and after exercise. This makes weighted vests an effective tool for weight management and fat loss[30][34][31][32].\n‚Ä¢\tImproves Bone Density: The extra load from a weighted vest stimulates bone growth and helps maintain or improve bone mineral density, which is crucial for long-term bone health and reducing the risk of osteoporosis[30][31][35][36].\n‚Ä¢\tStrengthens Core and Improves Posture: The need to stabilize the extra weight engages your core muscles more intensely, leading to better posture and a stronger midsection[34][31][33].\n‚Ä¢\tEnhances Balance, Coordination, and Agility: Training with a weighted vest challenges your balance and coordination, helping improve these skills. It also prepares athletes for the demands of sports that require quick changes of direction, such as basketball or soccer[34][31][37].\n‚Ä¢\tSupports Functional and Athletic Performance: The resistance from a vest can make everyday movements and sports-specific drills more challenging, leading to better functional strength and athleticism[31][38].\nWhy Athletes Use Weighted Vests\nAthletes, including basketball players, use weighted vests to:\n‚Ä¢\tSimulate game-like resistance, making actual play feel easier after training[29][31].\n‚Ä¢\tImprove vertical jump, speed, and lateral quickness by increasing the load during plyometrics and agility drills[31][32].\n‚Ä¢\tBuild endurance and strength simultaneously, which is vital for high-intensity sports[30][31].\nSummary Table: Weighted Vest Benefits\nBenefit\tHow It Helps\nStrength & Power\tForces muscles to adapt, leading to greater gains\nCardio Endurance\tRaises heart rate and oxygen use\nCalorie Burn & Fat Loss\tIncreases workout intensity and energy expenditure\nBone Density\tStimulates bone growth and strength\nCore Strength & Posture\tEngages stabilizers for better balance and alignment\nAgility & Coordination\tImproves movement skills and quickness\nFunctional Performance\tTransfers gains to daily and sports activities\n\nIn summary: Weighted vests are a versatile, effective way to boost strength, endurance, calorie burn, bone health, and athletic performance, making them a valuable addition to many training routines[29][30][34][31][32][33].\n‚ÅÇ\n \nin legal guarding position why would hands up not disrupt or get a foul * give an example\nWhen a defender is in legal guarding position with their hands up, they are allowed to extend their arms vertically within their \"cylinder\"‚Äîthe space directly above their body‚Äîwithout committing a foul, as long as they do not reach forward or outward to initiate contact[39][40][41]. This is known as the principle of verticality.\nWhy Hands Up Does Not Disrupt or Get a Foul:\n‚Ä¢\tIf the defender keeps their arms straight up within their vertical plane (the imaginary cylinder from the floor to the ceiling above their body), they are simply occupying their entitled space. In this scenario, if the offensive player jumps into the defender's vertical arms, any contact is generally not considered a defensive foul, because the defender did not initiate the contact or leave their cylinder[42][39][40][41].\n‚Ä¢\tThe hands-up position is a legal way to contest shots and passes without reaching in or making illegal contact.\nExample:\nA defender is guarding a shooter. The defender establishes legal guarding position by facing the opponent with both feet on the floor. As the shooter goes up for a jump shot, the defender jumps straight up with arms extended vertically. If the shooter jumps into the defender's vertical arms and contact occurs, the defender is not at fault‚Äîthis is not a foul, because the defender maintained verticality and did not invade the shooter's space[39][40][41].\nHowever:\nIf the defender reaches forward or angles their arms out of their vertical cylinder (for example, arms at a 45-degree angle toward the shooter), and contact occurs, the defender is likely to be called for a foul because they have left their vertical plane and initiated the contact[42].\nSummary:\nHands up in a legal guarding position is not a foul as long as the defender maintains verticality and does not reach forward or outward to initiate contact. This allows defenders to contest shots effectively and legally[39][40][41]."
  },
  "17": {
    "title": "dribbling_methodology (txt)",
    "content": "https://www.youtube.com/watch?v=bi3TsT2ZAsc; not just cone drills\n\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"{url}/videos/dribbling/dribbling1.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">dribbling1.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/dribbling/dribbling2.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">dribbling2.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/dribbling/dribbling3.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">dribbling3.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/dribbling/dribbling4.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">dribbling4.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/dribbling/dribbling5.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">dribbling5.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/dribbling/dribbling6.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">dribbling6.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/dribbling/dribbling7.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">dribbling7.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/dribbling/dribbling8.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">dribbling8.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/dribbling/dribbling9.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">dribbling9.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/dribbling/dribbling10.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">dribbling10.mp4</div></div>\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/dribbling/pull_up_jumper2.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">pull_up_jumper2.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/dribbling/pickup_pound.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">pickup_pound.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/dribbling/pickup_dribble.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">pickup_dribble.mp4</div></div>\n\n\nDribbling low and fast is a fundamental skill in basketball that offers several key advantages, particularly when you‚Äôre trying to maintain control, break down defenses, or prevent turnovers. Here‚Äôs a breakdown of why dribbling low and fast is important, along with the specific advantages it gives you on the court:\n\n1. Better Ball Control\n\n\t‚Ä¢\tCloser to Your Body: Dribbling low keeps the ball closer to your body, making it harder for defenders to poke it away. When the ball is low, it‚Äôs less exposed, which reduces the risk of a steal. The higher you dribble, the more time the ball spends away from your hand, making it easier for a defender to disrupt.\n\t‚Ä¢\tQuick Reactions: When you dribble low, the ball spends less time traveling between the floor and your hand, which allows you to react faster. If a defender tries to reach in or pressure you, you can quickly change directions or protect the ball by using a crossover or other move.\n\n2. Increased Speed and Agility\n\n\t‚Ä¢\tQuicker Direction Changes: A low dribble helps you change directions more quickly. When the ball is low, you don‚Äôt need to wait for it to rise up high before changing directions. This allows for faster cuts, crossovers, and moves like a hesitation dribble or a spin move, which makes you harder to guard.\n\t‚Ä¢\tBetter Body Control: Dribbling low naturally keeps your center of gravity lower, making you more balanced and in control of your movements. A low center of gravity helps you stay stable when making quick cuts or trying to avoid defenders, and it also makes it harder for the defender to knock you off balance.\n\n3. Protection Against Defenders\n\n\t‚Ä¢\tTougher to Steal: Defenders find it much harder to steal the ball from a low dribble. When the ball is high, it‚Äôs more exposed, and the defender has a larger window of time to poke it away. But when it‚Äôs low and tight to your body, there‚Äôs less opportunity for the defender to make a clean steal without fouling.\n\t‚Ä¢\tShields the Ball: When dribbling low, you can use your body more effectively to shield the ball from your defender. For example, if you‚Äôre being closely guarded, you can turn your body so that your shoulder or off-hand is between the defender and the ball, making it nearly impossible for them to swipe at it without risking a foul.\n\n4. Improves Offensive Moves\n\n\t‚Ä¢\tQuicker Moves: Many offensive moves rely on a low, fast dribble for execution. For example:\n\t‚Ä¢\tCrossover: A low crossover is much harder to defend than a high one. The ball stays below the defender‚Äôs hand level, making it harder for them to anticipate and steal it. A fast, low crossover allows you to blow by defenders.\n\t‚Ä¢\tHesitation Dribble: In a hesitation dribble, you momentarily pause to freeze the defender. A low, controlled dribble keeps the ball protected while giving you the ability to explode out of the hesitation and attack the basket.\n\t‚Ä¢\tSpin Move: A low dribble allows for a tight spin move that‚Äôs quick and difficult to defend. When you dribble low and tight to your body during a spin, you maintain better control and speed, making it harder for the defender to recover.\n\n5. Defensive Pressure\n\n\t‚Ä¢\tBreaks Down Defenses: A low, fast dribble can put constant pressure on the defense. By dribbling quickly and maintaining control, you can push the pace, forcing defenders to react to your moves instead of dictating the flow. This keeps defenders on their heels and opens up opportunities for you to either drive to the basket, pass to open teammates, or pull up for a shot.\n\t‚Ä¢\tEasier to Beat Press Defense: When facing intense defensive pressure, such as a full-court press, a low and fast dribble allows you to advance the ball more safely. Defenders are likely to be aggressive in these situations, and a low dribble minimizes the chance of turnovers while allowing you to maneuver past defenders more effectively.\n\n6. Reduces the Risk of Turnovers\n\n\t‚Ä¢\tLess Time for the Ball to be Stolen: Dribbling fast and low means the ball spends less time in the air and away from your hand, reducing the risk of a defender stealing it. A high dribble or slow dribble is easier for defenders to attack since they have more time to anticipate where the ball will be.\n\t‚Ä¢\tMore Control in Tight Spaces: In tight situations, like navigating through traffic in the paint or when double-teamed, a low dribble gives you better control and minimizes the risk of losing the ball.\n\n7. Creating Offensive Opportunities\n\n\t‚Ä¢\tOpens Up Passing Lanes: A low, controlled dribble allows you to keep your head up and scan the court for passing opportunities. When you‚Äôre dribbling too high or losing control, your focus shifts to managing the ball, and you might miss open teammates. Dribbling low helps you maintain control while keeping your vision open.\n\t‚Ä¢\tAttacking the Rim: When driving toward the basket, a low, fast dribble helps you protect the ball and explode past defenders. It allows you to be more aggressive and attack the rim with speed, making it difficult for defenders to stay in front of you.\n\n8. Handling Double Teams\n\n\t‚Ä¢\tEscaping Pressure: A low, fast dribble is especially useful when you‚Äôre being double-teamed. By keeping the ball low, you make it more difficult for defenders to trap you. You can use quick, low crossovers or spin moves to split the defenders or escape to a better position.\n\t‚Ä¢\tDrawing Fouls: When you‚Äôre dribbling low, defenders may be more likely to reach in or commit a foul while trying to steal the ball. By maintaining a low dribble and positioning your body between the ball and the defender, you can draw fouls and force them into a bad defensive position.\n\n9. Dictating the Pace\n\n\t‚Ä¢\tControlling the Tempo of the Game: Dribbling low and fast allows you to control the pace of the game. If your team is running a fast break, you need to be able to push the ball up the floor quickly while maintaining control. Conversely, in a half-court offense, a low dribble lets you control the flow of the play, patiently waiting for a good opportunity to attack or pass.\n\nConclusion:\n\nDribbling low and fast is a key to maintaining control, protecting the ball from defenders, and making quicker offensive moves. It improves your agility and allows you to react faster to defensive pressure, break down defenses, and create opportunities for both yourself and your teammates. Whether you‚Äôre navigating through tight spaces, trying to beat a defender, or pushing the pace, mastering a low and fast dribble will give you a significant edge on the court.\n\ndribble low need to pound the ball. \n\npractice in and out, cross, tween, behind the legs, 1, 2, 3, 4\n\nswitch hands \n\nbut stay low here\n\n\nvideos/dribbling/getHandles.mp4"
  },
  "18": {
    "title": "grab_a_steal (txt)",
    "content": "grab_a_steal.txt\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/grab_a_steal/grab_a_steal.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">grab_a_steal.mp4</div></div>"
  },
  "19": {
    "title": "highlights (txt)",
    "content": "<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/highlights/big_3_game.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">big_3_game.mp4</div></div>\n\nbig 3 with Michael beasley"
  },
  "20": {
    "title": "jump-shot (txt)",
    "content": "<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/jump_shot/jumpshot.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">jumpshot.mp4</div></div>\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/jump_shot/jumpshot2.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">jumpshot2.mp4</div></div>\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/jump_shot/dribble_shot.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">dribble_shot.mp4</div></div>"
  },
  "21": {
    "title": "lanes (txt)",
    "content": "when someone is driving from the side go to the middle \n\nsay bail me out\n- Vincent\n\n\nDon't get in other people's driving lanes."
  },
  "22": {
    "title": "layups (txt)",
    "content": "https://www.youtube.com/watch?v=Ax22L-vH9H4&t=93s; youtube video\n\ndon't go overhand because that hits the backboard too hard go underhand. \n\nand can do the reverse.\n\nyou have the eurostep that you can apply when running down there. \n\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/layups/gather_then_layup.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">gather_then_layup.mp4</div></div>"
  },
  "23": {
    "title": "make_the_game_easier (txt)",
    "content": "https://www.youtube.com/watch?v=Uuq-Y_kI0Kw&t=538s, I trained with Jeremy Lin"
  },
  "24": {
    "title": "oneOnOne (txt)",
    "content": "<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/oneOnOne/oneOnOne.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">oneOnOne.mp4</div></div>\n\nlink 2 : \n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/oneOnOne/oneOnOne2.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">oneOnOne2.mp4</div></div>\n\nhttps://www.youtube.com/shorts/IevpBe7PZnQ\n\nhttps://www.youtube.com/shorts/7wCO_VkfHYc\n\nhttps://www.youtube.com/shorts/TSBq7bxCblQ"
  },
  "25": {
    "title": "playing_one_on_one (txt)",
    "content": "too many dribbles\n\nthree dribbles, how do get my shot, \n\nthose guys were good\n\nI'm only playing basketball to train hard to learn how to train \n\ngot the jump hook\n\nbe able to create my own shot."
  },
  "26": {
    "title": "plays (txt)",
    "content": "horns the top of the free throw is to screen and then to get the person to score,\n\n{url}/content/plays/index.html; plays images\n\n5 goes and sets two screens and then 3 can get open because 4 will set a pick and roll and don't wait go\n\n\n<h2>4-Out 1-In Offense: Plays and Concepts for 4 Perimeter, 1 Post Player</h2>\n\nThe 4-out 1-in offense is a widely used basketball system where four players are spaced around the perimeter and one player operates as a post presence, typically near the low block or high post. This setup is praised for its spacing, driving lanes, and versatility, and is effective at all levels of basketball[1][2][3][4].\n\n<h3>**Key Concepts and Actions**</h3>\n\n- **Spacing:** Four players are positioned outside the three-point line‚Äîusually two in the slots (just above the free-throw line extended) and two on the wings‚Äîwith the post player inside, often on the weak side to keep the lane open for drives and cuts[1][5][3].\n- **Post Player Role:** The post player (often the ‚Äú5‚Äù) can stay on the weak side block, flash to the high post, or set screens for perimeter players. Their main jobs are to be available for dump-down passes, clean up offensive rebounds, and serve as a scoring option if they have a mismatch[1][6].\n- **Perimeter Movement:** The four outside players engage in ball movement, drive-and-kick actions, basket cuts, and off-ball screens to create scoring opportunities and shift the defense[2][4].\n- **Ball Screens:** The post player can set ball screens for perimeter players, leading to pick-and-roll or pick-and-pop situations[2][3].\n- **Cutting and Screening:** After passing, perimeter players often cut to the basket or set screens for each other, keeping the defense moving and creating open looks[2][4].\n\n<h3>**Sample Play: 4-Out 1-High**</h3>\n\nA specific play designed for a 4-out 1-in setup with the post at the high post (free-throw line) is as follows[7]:\n\n- Set up with two wings at the free-throw line extended, two guards at the top, and the post player at the nail (center of the free-throw line).\n- Guard 1 dribbles to a side and looks for a backdoor cut from 4.\n- If the backdoor isn‚Äôt open, 1 passes and uses a screen from 5 (the post), then basket cuts looking for a lob.\n- The play continues with a series of cuts, screens, and ball reversals, always keeping the post player involved as a screener and potential scoring option.\n- The post player can also set a down screen for a shooter coming to the top, or roll to the block for a post-up opportunity[7].\n\n<h3>**Villanova‚Äôs 4-Out 1-In Motion Offense**</h3>\n\nJay Wright‚Äôs Villanova teams are a modern example of 4-out 1-in success. Their version involves:\n\n- 4 perimeter players filling the two slots and two wings, with the post player in the weak side ‚Äúdunker spot‚Äù or mid-post.\n- Perimeter players pass, cut, and fill, while the post player shifts with the ball to maintain spacing and be available for dump-downs or offensive rebounds.\n- Ball screens and weak side exchanges are used to remove help defenders and create driving lanes[8][3].\n\n<h3>**Playbook and Video Resources**</h3>\n\n- **The Hoops Geek** and **Coach‚Äôs Clipboard** provide detailed breakdowns and diagrams for running the 4-out 1-in offense, including motion rules and set plays[1][4].\n- **YouTube tutorials** visually demonstrate the spacing, movement, and post player actions in the 4-out 1-in offense[5][9].\n- **Breakthrough Basketball** offers a ‚Äú4 out 1 high‚Äù play with step-by-step actions for maximizing the post player‚Äôs involvement at the high post[7].\n\n<h3>**Summary Table: 4-Out 1-In Structure**</h3>\n\n| Positioning         | Action Types                     | Post Player Role                | Example Play/Action           |\n|---------------------|----------------------------------|---------------------------------|-------------------------------|\n| 4 perimeter, 1 post | Ball movement, cuts, screens     | Weak side, high post, screener  | Backdoor cut, pick-and-roll   |\n| Slots, wings, block | Dribble penetration, kick-outs   | Post-up, offensive rebounding   | Ball reversal to post-up      |\n|                     | Off-ball screens, basket cuts    | Flash to high/low post          | Down screen for shooter       |\n\n<h3>**Conclusion**</h3>\n\nThere are numerous plays and motion principles available for a 4-out 1-in spread offense with a single post player. The system is highly adaptable, allowing coaches to tailor actions for their personnel, whether emphasizing post-ups, perimeter shooting, or dribble penetration. For detailed play diagrams and video breakdowns, resources like The Hoops Geek, Coach‚Äôs Clipboard, and YouTube tutorials are excellent starting points[1][5][4][7][6].\n\n\nBall reversal is key.\n\nScore everytime: https://www.youtube.com/watch?v=cPxDn5fMfpA\n\n\n[1] https://www.thehoopsgeek.com/4-out-basketball-offense/\n[2] https://www.basketball.com.au/news/basketball-explainer-how-to-run-a-4-out-1-in-motion-offense\n[3] https://www.hooperuniversity.com/breakdowns/villanovas-4-out-motion-offense\n[4] https://www.coachesclipboard.net/4Out1InMotionOffense.html\n[5] https://www.youtube.com/watch?v=z7qquK4djos\n[6] https://cdn.revolutionise.com.au/cups/kkbc/files/wi4njdbnw9gbwaar.pdf\n[7] https://www.breakthroughbasketball.com/playcreator/view.asp?ID=45&type=play\n[8] https://go.gale.com/ps/i.do?id=GALE%7CA250827106&sid=sitemap&v=2.1&it=r&p=EAIM&sw=w&userGroupName=anon~635ab65d&aty=open-web-entry\n[9] https://www.youtube.com/watch?v=Gj2RvrBFm6U\n[10] https://www.coachesclipboard.net/14Stack.html"
  },
  "27": {
    "title": "post (txt)",
    "content": "videos/post/zac_randolph.mp4\n\nsky hook: Kareem, turn then go up with the knee and straight arm extension\nhttps://www.youtube.com/watch?v=wB6Gr8YmEII\n\nvideos/post/celtics.mp4"
  },
  "28": {
    "title": "proprioception (txt)",
    "content": "How Can Proprioception Be Improved?\nProprioceptive abilities can be enhanced through training. Exercises often involve balance challenges, such as:\n\nStanding on one leg (with eyes open or closed).\n\nBalancing on uneven or unstable surfaces (like foam pads or balance boards).\n\nPerforming sport-specific drills that require quick changes in direction and dynamic balance.\n\nThese exercises force your body to rely on proprioceptive feedback rather than vision, strengthening the neural pathways that control joint stability and muscle coordination."
  },
  "29": {
    "title": "punch_drag (txt)",
    "content": "https://www.youtube.com/watch?v=TppGKuZqOeY;punch drag with your eyes"
  },
  "30": {
    "title": "shake_and_bake (txt)",
    "content": "Jamal Crawford\n\nthat's not a travel"
  },
  "31": {
    "title": "shooting_a_bball (txt)",
    "content": "videos/shooting/shooting1.mp4\n\nShooting a basketball\nShot line, instead of going at a 45 degree angle away from the body, what you want to do is, find the line.\nHave the release point lower and to the right of your head.\nWatch the way Gary shot the ball into the basketball, it‚Äôs more of a push from the top let the ball go in. \nBasketball Myth: Use Your Legs! | Technique Tip | Shooting Episode 1\nhttps://youtu.be/HbZtcszPZnI?si=Ws0nJ9aTL8LCdnmp\nMove the ball faster up don‚Äôt need to bend so much your knees. \n\nWhat‚Äôs this Coach Fui?\n\nhttps://www.youtube.com/watch?v=EqzPTjCIlpE\n\n\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/shooting/shooting1.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">shooting1.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/shooting/shooting2.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">shooting2.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/shooting/shooting3.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">shooting3.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/shooting/shooting4.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">shooting4.mp4</div></div>"
  },
  "32": {
    "title": "soccer_alternative (txt)",
    "content": "with soccer you can use some of those concepts into basketball\n\nattack the top foot if the right foot is up then you need to go right\n\n\n\nhttps://www.youtube.com/shorts/wR13YM3O9kg\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/soccer/drive_done.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">drive_done.mp4</div></div>\n\nlike going left, left left with the ball\n\nyou can throw it\n\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/soccer/drop_step.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">drop_step.mp4</div></div>\n\nvideos/soccer/fighter.mp4"
  },
  "33": {
    "title": "specific (txt)",
    "content": "cutting\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/specificskills/cutting1.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">cutting1.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/specificskills/cutting2.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">cutting2.mp4</div></div>\n\n\nHope all is well with everyone.  From the 7 minute mark is gold.  \n\nhttps://www.youtube.com/watch?v=Uuq-Y_kI0Kw&t=1072s\n\nAnd for a breakdown of where this is coming from, Tracy Mcgrady did a version of that when he played (but I think NBA  \n\nhttps://www.youtube.com/shorts/1hZj5nOrXRg\n\nAnd this drill with a cone I think would help a lot to get into the float dribble mindset, and different ways to float :  \nyoutube.com/watch?v=-N2tkn62dvg&t=88s&pp=0gcJCcYJAYcqIYzv f\n\nand to break down even further: \n\nhttps://www.youtube.com/watch?v=28GErFvuC-4 \n\ncause I can't visualize how to do the hesi"
  },
  "34": {
    "title": "spin_move (txt)",
    "content": "ometimes called the \"zero step\" or \"gather step\")\n3. Second step\n\nIf the player takes a third step before shooting or passing, it's a traveling violation. This rule was formally adopted by the NBA in 2009 to match what was already being called on the court, and FIBA adopted similar rules to standardize interpretation globally.\n\nThe key to understanding this rule is recognizing when the gather actually occurs. A common misconception is counting steps from when the player's last dribble hits the ground, but it's really from when they gain full control of the ball.\n\nso key is to spin and gather with the opposite hand\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/spin_move/spin_move.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">spin_move.mp4</div></div>"
  },
  "35": {
    "title": "steal_a_ball (txt)",
    "content": "steal_a_ball.txt\n\n\nreach for the basketball when it is low to the ground"
  },
  "36": {
    "title": "step_back (txt)",
    "content": "https://www.youtube.com/watch?v=RAiBYYfOU7M&t=3s\n\nadd the bump to it too..\n\nf you see he still has his dribble.\n\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/step-back/step_back1.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">step_back1.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/step-back/step_back2.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">step_back2.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/step-back/mike_james_step_back.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">mike_james_step_back.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/step-back/mike_james_step_back2.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">mike_james_step_back2.mp4</div></div>\n\nuse the opposite hand to step back into a shot, so for Jack he is left handed so he drives right and then steps back to the right. \n\n\nvideos/step-back/contact.mp4"
  },
  "37": {
    "title": "team_concepts (txt)",
    "content": "team_concepts.txt\n\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/teamConcepts/curlmove_basketball.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">curlmove_basketball.mp4</div></div>"
  },
  "38": {
    "title": "test_syntax_highlighting (txt)",
    "content": "Test file for syntax highlighting functionality\n\n<pre><code class=\"language-html\">&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;title&gt;flashcards_with_firebase&lt;/title&gt;\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n  &lt;link rel=&quot;stylesheet&quot; href=&quot;./style.css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;button id=&quot;convertTextAreaFrColumns&quot; class=&quot;express1&quot;&gt;Convert TextArea (from columns/Google Sheets)&lt;/button&gt;\n  &lt;button id=&quot;makeTableFromSemicolon&quot;&gt;Make Table&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<pre><code class=\"language-javascript\">function greet(name) {\n  console.log(`Hello, ${name}!`);\n  return `Welcome to the basketball app, ${name}`;\n}\n\nconst players = [&#x27;LeBron&#x27;, &#x27;Curry&#x27;, &#x27;Durant&#x27;];\nplayers.forEach(player =&gt; greet(player));\n</code></pre>\n\n<pre><code class=\"language-css\">.highlight {\n  background-color: yellow;\n  padding: 10px;\n  border-radius: 4px;\n}\n\n.code-block {\n  font-family: &#x27;Monaco&#x27;, &#x27;Consolas&#x27;, monospace;\n  background: #f5f5f5;\n  border: 1px solid #ddd;\n}\n</code></pre>\n\n<pre><code class=\"language-python\">def calculate_shooting_percentage(made_shots, total_shots):\n    if total_shots == 0:\n        return 0\n    return (made_shots / total_shots) * 100\n\n&lt;h1&gt;Example usage&lt;/h1&gt;\npercentage = calculate_shooting_percentage(8, 10)\nprint(f&quot;Shooting percentage: {percentage}%&quot;)\n</code></pre>\n\nThis is regular text that should not be highlighted.\n\nconcatenate mp4 files\n<pre><code class=\"language-bash\">&lt;h1&gt;Create the file list correctly&lt;/h1&gt;\nls -v *.mp4 | sed &quot;s/.*/&#x27;&amp;&#x27;/&quot; | sed &quot;s/^/file /&quot; &gt; filelist.txt\n\n&lt;h1&gt;Check what the file list looks like&lt;/h1&gt;\ncat filelist.txt\n\n&lt;h1&gt;Then concatenate&lt;/h1&gt;\nffmpeg -f concat -safe 0 -i filelist.txt -c:v libx264 -c:a aac -preset fast concatenated.mp4\n\n&lt;h1&gt;Clean up&lt;/h1&gt;\nrm filelist.txt\n\n</code></pre>\nor convert mov to mp4\n\n<pre><code class=\"language-bash\">\nfor file in *.mov; do HandBrakeCLI -i &quot;$file&quot; -o &quot;${file%.*}.mp4&quot; --preset=&quot;Fast 1080p30&quot;; done\n</code></pre>"
  },
  "39": {
    "title": "transiton (txt)",
    "content": "transiton.txt\n\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/transition/transition1.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">transition1.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/transition/transition2.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">transition2.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/transition/transition3.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">transition3.mp4</div></div>\n<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/transition/transition4.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">transition4.mp4</div></div>"
  },
  "40": {
    "title": "turnovers (txt)",
    "content": "after Haliburton got hurt, \n\nPacers had 21 turnovers compared to OKC's 7, which hurt their chances\n\nthus, you need to risk it more to withus, you need to risk it more to win\n\nwhen you do not have a star player."
  },
  "41": {
    "title": "warm-up (txt)",
    "content": "<div class=\"video-container\"><video controls width=\"400\" style=\"border-radius: 8px; margin: 10px 0;\"><source src=\"./videos/warmup_1.mp4\" type=\"video/mp4\">Your browser does not support the video tag.</video><div style=\"font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;\">warmup_1.mp4</div></div>"
  },
  "42": {
    "title": "watching (txt)",
    "content": "basketball\n\nso what it is, is this that you keep low and stay low with your hands out you can control the ball better move the ball behind your palm \n\nso pretty much it's this, and then get pressure you can pass it out behind you always, \n\n\nhttps://www.youtube.com/watch?v=BSjpPg7qJvY; 4 Out motion offense\n\ntesting"
  }
};




// Configuration - Change this to set your default database name for local storage
const DEFAULT_DATABASE_NAME = 'basketballStorage';
// Make it globally available
window.DEFAULT_DATABASE_NAME = DEFAULT_DATABASE_NAME;


// Set page title to match database name  
document.title = DEFAULT_DATABASE_NAME;


// Initialize the app when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initializeApp);
} else {
  initializeApp();
}

function initializeApp() {


// Store notes in memory
const notes = {};

// Initialize notes from templates
function initializeNotes() {
    for (const [key, template] of Object.entries(templates)) {
        if (template.notes) {
            notes[key] = template.notes;
        }
    }
}

// Keep track of current active index and current link number
let currentIndex = 0;
let currentLinkNumber = 1;
let sortedEntries = [];

function parseContent(content) {
    // Handle both string content and object content (with galleries)
    let textContent = content;
    if (typeof content === 'object' && content.content) {
        textContent = content.content;
    }
    
    const lines = textContent.split('\n');
    const sections = [];
    let currentSection = {
        type: null,
        content: []
    };

    lines.forEach(line => {
        let trimmedLine = line;  // Keep original spacing
        
        // Replace {url} placeholders with base path (dynamically set by Python script)
        if (trimmedLine.includes('{url}')) {
            // Use BASE_PATH variable generated by the Python processing script
            const basePath = (typeof BASE_PATH !== 'undefined') ? BASE_PATH : '.';
            trimmedLine = trimmedLine.replace(/{url}/g, basePath);
        }
        
        // Treat all content as text now
        if (currentSection.type !== 'text') {
            currentSection = { type: 'text', content: [] };
        }
        currentSection.content.push(trimmedLine);
    });

    if (currentSection.content.length > 0) {
        sections.push(currentSection);
    }

    return sections;
}

function createSidebar() {
    const sidebar = document.getElementById('sidebar');
    
    // Create array of entries and sort by title
    sortedEntries = Object.entries(templates)
        .sort((a, b) => a[1].title.localeCompare(b[1].title));

    sortedEntries.forEach(([key, template], index) => {
        const item = document.createElement('div');
        item.className = 'sidebar-item';
        item.textContent = template.title;
        item.dataset.index = index;
        item.onclick = () => {
            setActiveItem(index);
        };
        sidebar.appendChild(item);
    });
}

function setActiveItem(index) {
    currentIndex = index;
    currentLinkNumber = 1; // Reset link number when changing sidebar item
    
    // Stop continuous reading when changing content
    if (typeof continuousReading !== 'undefined' && continuousReading) {
        continuousReading = false;
        if (document.getElementById('continuousReadingToggle')) {
            document.getElementById('continuousReadingToggle').checked = false;
        }
        speechSynthesis.cancel();
    }
    
    document.querySelectorAll('.sidebar-item').forEach(el => {
        el.classList.remove('active');
    });
    document.querySelector(`[data-index="${index}"]`).classList.add('active');
    updateContent(sortedEntries[index][0]);
    
    // Auto-load content from IndexedDB if available
    const currentTemplate = sortedEntries[index][1];
    const customKey = currentTemplate.title.split(' ')[0].trim();
    if (window.autoLoadContent) {
        window.autoLoadContent(customKey);
    }
    
    // Update link navigation
    handleLinkNavigation();
}

function updateContent(key) {
    const mainContent = document.getElementById('mainContent');
    const template = templates[key];
    const sections = parseContent(template.content);
    
    // Update link counter in the navigation
    const linkCounter = document.getElementById('linkCounter');
    if (linkCounter) {
        linkCounter.textContent = currentLinkNumber;
    }
    
    let html = `<div class="content-section"><h2>${template.title}</h2>`;
    
    // Keep track of the global link number for the page
    let globalLinkNumber = 1;
    
    sections.forEach(section => {
        if (section.type === 'text') {
            // Combine all text content preserving original formatting
            const textContent = section.content.join('\n');
            // Process markdown code blocks for syntax highlighting
            const processedContent = processMarkdownCodeBlocks(textContent);
            html += `
                <div class="text-content">${processedContent}</div>
            `;
        }
    });
    
    // Add editable textbox with copy button at the end of the content section
    html += `
        <div class="editable-section">
            <!-- Video Path Input Box -->
            <div style="margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
                <input 
                    type="text" 
                    class="video-path-input" 
                    placeholder="Enter video path (e.g., videos/oneOnOne/oneOnOne.mp4)"
                    style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; font-family: monospace;"
                />
                <button 
                    class="embed-video-btn"
                    style="padding: 8px 16px; background-color: #4a90e2; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; white-space: nowrap;"
                >
                    üé• Embed Video
                </button>
            </div>
            
            <!-- Embedded Video Container -->
            <div class="embedded-video-container" id="embeddedVideoContainer" style="display: none; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 8px; padding: 15px; background-color: #f9f9f9;">
                <div class="embedded-video-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h3 id="embeddedVideoTitle" style="margin: 0; color: #333; font-size: 16px;">Video Player</h3>
                    <button class="close-embedded-video" id="closeEmbeddedVideo" style="background: none; border: none; font-size: 20px; cursor: pointer; color: #666; padding: 0; width: 25px; height: 25px; display: flex; align-items: center; justify-content: center;">&times;</button>
                </div>
                <video id="embeddedVideoPlayer" controls preload="metadata" style="width: 100%; max-height: 400px; border-radius: 6px; outline: none;">
                    <source id="embeddedVideoSource" src="" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <div id="embeddedVideoFilename" style="font-size: 12px; color: #666; margin-top: 5px; text-align: center; font-family: monospace;"></div>
            </div>
            
            <textarea 
                class="content-notes" 
                placeholder="Add your notes here..."
                data-section="${key}"
                rows="10"
                style="width: 100%; font-family: monospace;"
            >${notes[key] || ''}</textarea>
            <button class="copy-button" data-section="${key}">Copy to Clipboard</button>
            
            <!-- IndexedDB Controls -->
            <div style="margin-top: 10px; display: flex; align-items: center; gap: 10px; flex-wrap: wrap;">
                <input 
                    type="text" 
                    id="databaseInput" 
                    value="${DEFAULT_DATABASE_NAME}"
                    placeholder="Database name (e.g., basketballHub)" 
                    style="padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; flex: 1; min-width: 200px;"
                />
                <button 
                    id="saveButton" 
                    onclick="saveToIndexedDB()" 
                    style="padding: 8px 16px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;"
                >
                    üíæ Save Local
                </button>
                <button 
                    id="loadButton" 
                    onclick="loadFromIndexedDB()" 
                    style="padding: 8px 16px; background-color: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;"
                >
                    üìÇ Load Local
                </button>
            </div>
        </div>
    `;
    
    html += '</div>';
    mainContent.innerHTML = html;
    
    // Trigger Prism.js syntax highlighting for newly added code blocks
    if (typeof Prism !== 'undefined') {
        Prism.highlightAll();
    }
    
    // Add event listener to save textarea content to memory and auto-save to IndexedDB
    const textarea = mainContent.querySelector('.content-notes');
    let autoSaveTimeout;
    
    textarea.addEventListener('input', (e) => {
        notes[key] = e.target.value;
        
        // Auto-save with debounce (wait 1 second after user stops typing)
        clearTimeout(autoSaveTimeout);
        autoSaveTimeout = setTimeout(() => {
            autoSaveToIndexedDB(e.target.value);
        }, 1000);
    });
    
    // Add event listener for the copy button
    const copyButton = mainContent.querySelector('.copy-button');
    copyButton.addEventListener('click', () => {
        const textToCopy = notes[key] || '';
        copyToClipboard(textToCopy, copyButton);
    });
    
    // Add event listener for the embed video button
    const embedVideoBtn = mainContent.querySelector('.embed-video-btn');
    const videoPathInput = mainContent.querySelector('.video-path-input');
    
    embedVideoBtn.addEventListener('click', () => {
        const videoPath = videoPathInput.value.trim();
        if (!videoPath) {
            alert('Please enter a video path');
            return;
        }
        
        // Show embedded video instead of modal popup
        showEmbeddedVideo(videoPath, textarea, videoPathInput, key);
    });
    
    // Add keyboard support for video path input (Enter to embed)
    videoPathInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            e.preventDefault();
            embedVideoBtn.click();
        }
    });
    
    // Add event listener for the close embedded video button
    const closeEmbeddedBtn = mainContent.querySelector('.close-embedded-video');
    if (closeEmbeddedBtn) {
        closeEmbeddedBtn.addEventListener('click', closeEmbeddedVideo);
    }
    
    // Initialize segment navigation buttons for the new content
    setTimeout(() => {
        currentSegments = parseContentForReading();
        currentSegmentIndex = 0;
        updateSegmentNavigationButtons();
    }, 100);
}

// Add a function to handle copying to clipboard
function copyToClipboard(text, button) {
    // Create a temporary textarea element
    const tempTextarea = document.createElement('textarea');
    tempTextarea.value = text;
    tempTextarea.setAttribute('readonly', '');
    tempTextarea.style.position = 'absolute';
    tempTextarea.style.left = '-9999px';
    document.body.appendChild(tempTextarea);
    
    // Select and copy the text
    tempTextarea.select();
    document.execCommand('copy');
    
    // Remove the temporary element
    document.body.removeChild(tempTextarea);
    
    // Visual feedback that copy succeeded
    const originalText = button.textContent;
    button.textContent = 'Copied!';
    button.classList.add('copied');
    
    // Reset button text after a delay
    setTimeout(() => {
        button.textContent = originalText;
        button.classList.remove('copied');
    }, 2000);
}

// Get all links from current template
function getAllLinksFromCurrentTemplate() {
    const templateKey = sortedEntries[currentIndex][0];
    const template = templates[templateKey];
    const sections = parseContent(template.content);
    
    const allLinks = [];
    sections.forEach(section => {
        if (section.type === 'links') {
            section.content.forEach(link => {
                allLinks.push(link);
            });
        }
    });
    
    return allLinks;
}

// Get a flat map of all links with their global numbers
function getNumberedLinksMap() {
    const templateKey = sortedEntries[currentIndex][0];
    const template = templates[templateKey];
    const sections = parseContent(template.content);
    
    const numberedLinks = new Map();
    let globalLinkNumber = 1;
    
    sections.forEach(section => {
        if (section.type === 'links') {
            section.content.forEach(link => {
                numberedLinks.set(globalLinkNumber++, link);
            });
        }
    });
    
    return numberedLinks;
}

// Handle link navigation
function handleLinkNavigation() {
    const prevLinkBtn = document.getElementById('prevLink');
    const nextLinkBtn = document.getElementById('nextLink');
    const gotoLinkBtn = document.getElementById('gotoLink');
    const linkCounter = document.getElementById('linkCounter');
    
    const numberedLinksMap = getNumberedLinksMap();
    const maxLinkNumber = numberedLinksMap.size;
    
    // Update UI
    linkCounter.textContent = currentLinkNumber;
    prevLinkBtn.disabled = currentLinkNumber <= 1;
    nextLinkBtn.disabled = currentLinkNumber >= maxLinkNumber;
    
    // Add event listeners
    prevLinkBtn.onclick = () => {
        if (currentLinkNumber > 1) {
            currentLinkNumber--;
            linkCounter.textContent = currentLinkNumber;
            prevLinkBtn.disabled = currentLinkNumber <= 1;
            nextLinkBtn.disabled = false;
            const templateKey = sortedEntries[currentIndex][0];
            updateContent(templateKey);
        }
    };
    
    nextLinkBtn.onclick = () => {
        if (currentLinkNumber < maxLinkNumber) {
            currentLinkNumber++;
            linkCounter.textContent = currentLinkNumber;
            nextLinkBtn.disabled = currentLinkNumber >= maxLinkNumber;
            prevLinkBtn.disabled = false;
            const templateKey = sortedEntries[currentIndex][0];
            updateContent(templateKey);
        }
    };
    
    gotoLinkBtn.onclick = () => {
        if (numberedLinksMap.size > 0 && numberedLinksMap.has(currentLinkNumber)) {
            window.open(numberedLinksMap.get(currentLinkNumber).url, '_blank');
        }
    };
}

function gotoLinkByNumber(linkNumber) {
    const numberedLinksMap = getNumberedLinksMap();
    const maxLinkNumber = numberedLinksMap.size;
    
    if (linkNumber >= 1 && linkNumber <= maxLinkNumber && numberedLinksMap.has(linkNumber)) {
        // Just open the link directly - don't update UI unnecessarily
        window.open(numberedLinksMap.get(linkNumber).url, '_blank');
        
        // Only update the current link number and UI if you want to track position
        currentLinkNumber = linkNumber;
        const templateKey = sortedEntries[currentIndex][0];
        updateContent(templateKey);
    }
}

// Navigate to previous sidebar item
function navigateToPrevSidebar() {
    if (currentIndex > 0) {
        setActiveItem(currentIndex - 1);
    } else {
        // Wrap around to the last item
        setActiveItem(sortedEntries.length - 1);
    }
}

// Navigate to next sidebar item
function navigateToNextSidebar() {
    if (currentIndex < sortedEntries.length - 1) {
        setActiveItem(currentIndex + 1);
    } else {
        // Wrap around to the first item
        setActiveItem(0);
    }
}

    // Initialize notes from templates
    initializeNotes();
    createSidebar();
    setActiveItem(0);
    
    // Initialize link navigation
    handleLinkNavigation();
    
    // Add sidebar navigation buttons
    document.getElementById('prevSidebar').addEventListener('click', navigateToPrevSidebar);
    document.getElementById('nextSidebar').addEventListener('click', navigateToNextSidebar);
    
    // Add number input functionality
    const linkInput = document.getElementById('linkInput');
    const gotoNumberBtn = document.getElementById('gotoNumberLink');
    
    gotoNumberBtn.addEventListener('click', () => {
        const linkNumber = parseInt(linkInput.value);
        if (!isNaN(linkNumber)) {
            gotoLinkByNumber(linkNumber);
            linkInput.value = ''; // Clear input after use
        }
    });
    
    // Allow Enter key in input to trigger go
    linkInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') {
            gotoNumberBtn.click();
        }
    });
    
    // Initialize voice system
    initializeVoices();
    
    // Initialize continuous reading functionality
    initializeContinuousReading();
    
    // Add keyboard navigation
    document.addEventListener('keydown', (e) => {
        if (e.key === '[') {
            document.getElementById('prevSidebar').click();
        } else if (e.key === ']') {
            document.getElementById('nextSidebar').click();
        } else if (e.key === 'Escape') {
            document.getElementById('linkInput').focus();
        }
    });

    // Handle hash changes for direct link navigation
    function handleHashChange() {
        const hash = window.location.hash.substring(1); // Remove the #
        const linkNumber = parseInt(hash);
        
        if (!isNaN(linkNumber) && linkNumber > 0) {
            // Navigate to the specific link number
            gotoLinkByNumber(linkNumber);
        }
    }

    // Listen for hash changes
    window.addEventListener('hashchange', handleHashChange);

    // Check hash on initial load
    if (window.location.hash) {
        setTimeout(handleHashChange, 100); // Small delay to ensure everything is set up
    }

}  // End of initializeApp function

// Auto-save function that bypasses UI feedback
async function autoSaveToIndexedDB(content) {
    if (!content || !content.trim()) {
        return; // Don't save empty content
    }
    
    try {
        const databaseInput = document.getElementById('databaseInput');
        const databaseName = databaseInput ? databaseInput.value.trim() || DEFAULT_DATABASE_NAME : DEFAULT_DATABASE_NAME;
        
        // Use the same key generation logic as the manual save
        const customKey = window.indexedDBWrapper.generateKey();
        
        // Use the IndexedDB wrapper directly
        await window.indexedDBWrapper.set(databaseName, customKey, content);
        
        console.log(`üîÑ Auto-saved: ${databaseName}/${customKey}`);
        
    } catch (error) {
        console.error('Auto-save error:', error);
    }
}

// Function to process markdown code blocks
function processMarkdownCodeBlocks(text) {
    // Regex to match code blocks with language specification
    const codeBlockRegex = /```(\w+)?\n?([\s\S]*?)```/g;
    
    return text.replace(codeBlockRegex, (match, language, code) => {
        const lang = language || 'text';
        const escapedCode = code.trim()
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#39;');
        
        return `<pre><code class="language-${lang}">${escapedCode}</code></pre>`;
    });
}

// Add some basic CSS for code formatting in textareas
const style = document.createElement('style');
style.textContent = `
.content-notes {
    white-space: pre-wrap;
    font-family: monospace;
    font-size: 14px;
    tab-size: 4;
    overflow-wrap: break-word;
    background-color: #f5f5f5;
    border: 1px solid #ddd;
    border-radius: 4px;
}
`;
document.head.appendChild(style);

// Continuous reading functionality
let continuousReading = false;
let currentSegments = [];
let currentSegmentIndex = 0;
let isSpeaking = false;

// Voice management
let voicesLoaded = false;
let availableVoices = [];

// Initialize voice loading system
function initializeVoices() {
    const loadVoices = () => {
        availableVoices = speechSynthesis.getVoices();
        if (availableVoices.length > 0) {
            voicesLoaded = true;
            console.log(`Loaded ${availableVoices.length} voices`);
            // Log available Google voices for debugging
            const googleVoices = availableVoices.filter(voice => voice.name.includes('Google'));
            if (googleVoices.length > 0) {
                console.log('Available Google voices:', googleVoices.map(v => `${v.name} (${v.lang})`));
            }
        }
    };

    // Try to load voices immediately
    loadVoices();
    
    // If voices aren't loaded yet, wait for the event
    if (!voicesLoaded) {
        speechSynthesis.addEventListener('voiceschanged', loadVoices);
        
        // Fallback: try loading voices after a delay
        setTimeout(() => {
            if (!voicesLoaded) {
                loadVoices();
            }
        }, 500);
    }
}

// Wait for voices to be available before speaking
async function waitForVoices() {
    if (voicesLoaded && availableVoices.length > 0) {
        return availableVoices;
    }
    
    return new Promise((resolve) => {
        const checkVoices = () => {
            if (voicesLoaded && availableVoices.length > 0) {
                resolve(availableVoices);
            } else {
                setTimeout(checkVoices, 50);
            }
        };
        checkVoices();
    });
}

function initializeContinuousReading() {
    // Add event listener for the toggle switch
    document.getElementById('continuousReadingToggle').addEventListener('change', (e) => {
        continuousReading = e.target.checked;
        
        if (continuousReading) {
            startContinuousReading();
        } else {
            stopContinuousReading();
        }
        
        console.log('Continuous reading:', continuousReading ? 'ON' : 'OFF');
    });
    
    // Override prev/next buttons for segment navigation
    const prevButton = document.getElementById('prevLink');
    const nextButton = document.getElementById('nextLink');
    
    // Remove existing listeners and add new ones
    prevButton.replaceWith(prevButton.cloneNode(true));
    nextButton.replaceWith(nextButton.cloneNode(true));
    
    document.getElementById('prevLink').addEventListener('click', () => {
        navigateSegment('prev');
    });
    
    document.getElementById('nextLink').addEventListener('click', () => {
        navigateSegment('next');
    });
    
    // Add space bar to toggle reading
    document.addEventListener('keydown', (e) => {
        if (e.code === 'Space' && !e.target.matches('input, textarea')) {
            e.preventDefault();
            document.getElementById('continuousReadingToggle').click();
        }
    });
}

function parseContentForReading() {
    const textContent = document.querySelector('.text-content');
    if (!textContent) return [];
    
    // Get the text content and split into readable segments
    let text = textContent.textContent || textContent.innerText;
    
    // Split by sentences and other logical breaks
    let segments = text
        .split(/(?<=[.!?])\s+|(?<=:)\s*\n|^\s*[-‚Ä¢]\s+|^\s*\d+\.\s+/gm)
        .filter(segment => segment.trim().length > 0)
        .map(segment => segment.trim());
    
    // Remove very short segments (less than 10 characters)
    segments = segments.filter(segment => segment.length >= 10);
    
    return segments;
}

function startContinuousReading() {
    currentSegments = parseContentForReading();
    
    if (currentSegments.length === 0) {
        console.log('No readable content found');
        return;
    }
    
    // Start from current segment index (remembers position)
    currentSegmentIndex = Math.max(0, parseInt(document.getElementById('linkCounter').textContent) - 1);
    
    if (currentSegmentIndex >= currentSegments.length) {
        currentSegmentIndex = 0;
    }
    
    updateSegmentNavigationButtons();
    readCurrentSegment();
}

function stopContinuousReading() {
    speechSynthesis.cancel();
    isSpeaking = false;
}

function readCurrentSegment() {
    if (!continuousReading || currentSegmentIndex >= currentSegments.length) {
        return;
    }
    
    const segment = currentSegments[currentSegmentIndex];
    updateLinkCounter(currentSegmentIndex + 1);
    
    speakText(segment, () => {
        if (continuousReading) {
            // Move to next segment after a brief pause
            setTimeout(() => {
                currentSegmentIndex++;
                if (currentSegmentIndex < currentSegments.length) {
                    readCurrentSegment();
                } else {
                    // Reached the end
                    console.log('Reached end of content');
                    continuousReading = false;
                    document.getElementById('continuousReadingToggle').checked = false;
                }
            }, 500);
        }
    });
}

function navigateSegment(direction) {
    if (currentSegments.length === 0) {
        currentSegments = parseContentForReading();
    }
    
    // Stop current reading
    speechSynthesis.cancel();
    isSpeaking = false;
    
    if (direction === 'prev') {
        currentSegmentIndex = Math.max(0, currentSegmentIndex - 1);
    } else {
        currentSegmentIndex = Math.min(currentSegments.length - 1, currentSegmentIndex + 1);
    }
    
    updateLinkCounter(currentSegmentIndex + 1);
    updateSegmentNavigationButtons();
    
    // If continuous reading is on, continue from new position
    if (continuousReading) {
        setTimeout(() => readCurrentSegment(), 100);
    }
}

function updateSegmentNavigationButtons() {
    const prevBtn = document.getElementById('prevLink');
    const nextBtn = document.getElementById('nextLink');
    
    if (currentSegments.length === 0) {
        prevBtn.disabled = true;
        nextBtn.disabled = true;
        return;
    }
    
    prevBtn.disabled = currentSegmentIndex <= 0;
    nextBtn.disabled = currentSegmentIndex >= currentSegments.length - 1;
}

async function speakText(text, onComplete = null) {
    if (!text) return;
    
    // Cancel any ongoing speech
    speechSynthesis.cancel();
    
    let textToSpeak = text;
    // Clean up the text
    textToSpeak = textToSpeak.replace(/[()]/g, '').trim();
    
    const utterance = new SpeechSynthesisUtterance(textToSpeak);
    
    // Set up speech event handlers
    utterance.onstart = () => {
        isSpeaking = true;
    };
    
    utterance.onend = () => {
        isSpeaking = false;
        if (onComplete) {
            onComplete();
        }
    };
    
    utterance.onerror = () => {
        isSpeaking = false;
    };
    
    // Configure speech settings
    utterance.lang = 'en-US';
    utterance.rate = 0.9; // Slightly slower for better comprehension
    utterance.pitch = 1.0;
    
    // Wait for voices to be loaded before proceeding
    const voices = await waitForVoices();
    
    // Try to get a good English voice - now using properly loaded voices
    let preferredVoice = voices.find(voice => 
        voice.lang.includes('en-') && (
            voice.name.includes('Enhanced') ||
            voice.name.includes('Premium') ||
            voice.name.includes('Google')
        )
    );
    
    if (!preferredVoice) {
        preferredVoice = voices.find(voice => voice.lang.includes('en-'));
    }
    
    if (preferredVoice) {
        utterance.voice = preferredVoice;
        console.log(`Using voice: ${preferredVoice.name}`);
    }
    
    speechSynthesis.speak(utterance);
}

function updateLinkCounter(segmentNumber) {
    const linkCounter = document.getElementById('linkCounter');
    if (linkCounter) {
        linkCounter.textContent = segmentNumber;
    }
}

// Copy Pane functionality - copies h2 title, text-content div, and textarea content
async function copyPaneContent() {
    try {
        const h2Element = document.querySelector('.content-section h2');
        const textarea = document.querySelector('.content-notes');
        const textContentDiv = document.querySelector('.text-content');
        
        let combinedContent = '';
        
        // Get h2 title first
        if (h2Element) {
            combinedContent += h2Element.innerText || h2Element.textContent || '';
            combinedContent += '\n'; // Add line break after h2
        }
        
        // Get text-content div content second (as plain text, excluding navigation)
        if (textContentDiv) {
            // Clone the div to avoid modifying the original
            const clone = textContentDiv.cloneNode(true);
            
            // Remove navigation elements that shouldn't be copied
            const navElements = clone.querySelectorAll('.nav-button, .link-counter, .key-hint, .goto-link, .goto-number-link, .link-input, .reading-toggle-container, .toggle-label, .switch');
            navElements.forEach(el => el.remove());
            
            combinedContent += clone.innerText || clone.textContent || '';
        }
        
        // Get textarea content third
        if (textarea && textarea.value.trim()) {
            if (combinedContent) {
                combinedContent += '\n\n'; // Add separator if previous content exists
            }
            combinedContent += textarea.value;
        }
        
        // Copy to clipboard
        if (combinedContent) {
            await navigator.clipboard.writeText(combinedContent);
            alert('Copied to clipboard!');
        } else {
            alert('No content to copy!');
        }
    } catch (error) {
        console.error('Failed to copy content:', error);
        alert('Failed to copy content to clipboard');
    }
}

// Add event listener for copy pane button
document.addEventListener('DOMContentLoaded', function() {
    const copyPaneButton = document.getElementById('copyPaneButton');
    if (copyPaneButton) {
        copyPaneButton.addEventListener('click', copyPaneContent);
    }
    
    // View Database button functionality
    const viewDbButton = document.getElementById('viewDbButton');
    if (viewDbButton) {
        viewDbButton.addEventListener('click', async () => {
            console.log('üóÇÔ∏è Viewing all IndexedDB data...');
            
            try {
                // Get all keys using the default database name
                const databaseName = window.DEFAULT_DATABASE_NAME || 'basketballStorage';
                const keys = await new Promise((resolve, reject) => {
                    const request = indexedDB.open(databaseName);
                    request.onsuccess = function(event) {
                        const db = event.target.result;
                        const storeName = db.objectStoreNames[0];
                        if (storeName) {
                            const transaction = db.transaction([storeName], 'readonly');
                            const store = transaction.objectStore(storeName);
                            store.getAllKeys().onsuccess = function(e) {
                                resolve(e.target.result);
                            };
                        } else {
                            resolve([]);
                        }
                    };
                    request.onerror = () => reject(request.error);
                });
                
                console.log(`Found ${keys.length} keys:`, keys);
                
                // Get values for each key using the existing wrapper
                const data = {};
                for (const key of keys) {
                    try {
                        // Try the wrapper function first
                        let value = await loadFromIndexedDB(key);
                        
                        // If undefined, try direct IndexedDB access
                        if (value === undefined) {
                            value = await new Promise((resolve, reject) => {
                                const request = indexedDB.open(databaseName);
                                request.onsuccess = function(event) {
                                    const db = event.target.result;
                                    const storeName = db.objectStoreNames[0];
                                    if (storeName) {
                                        const transaction = db.transaction([storeName], 'readonly');
                                        const store = transaction.objectStore(storeName);
                                        const getRequest = store.get(key);
                                        getRequest.onsuccess = function() {
                                            resolve(getRequest.result);
                                        };
                                        getRequest.onerror = () => reject(getRequest.error);
                                    } else {
                                        resolve(null);
                                    }
                                };
                                request.onerror = () => reject(request.error);
                            });
                        }
                        
                        data[key] = value;
                    } catch (error) {
                        console.error(`Failed to load key "${key}":`, error);
                        data[key] = `Error loading: ${error.message}`;
                    }
                }
                
                // Display in console
                console.log('üìä All IndexedDB Data:');
                console.table(data);
                
                // Also alert the user
                if (keys.length === 0) {
                    alert('üìÅ Database is empty - no data found');
                } else {
                    alert(`üóÇÔ∏è Found ${keys.length} keys in database:\n${keys.join(', ')}\n\nCheck console for full data display`);
                }
                
            } catch (error) {
                console.error('‚ùå Error accessing IndexedDB:', error);
                alert('‚ùå Error accessing database: ' + error.message);
            }
        });
    }
    
    // Clear Database button functionality
    const clearDbButton = document.getElementById('clearDbButton');
    if (clearDbButton) {
        clearDbButton.addEventListener('click', async () => {
            const databaseName = window.DEFAULT_DATABASE_NAME || 'basketballStorage';
            
            // First confirmation
            const firstConfirm = confirm(`‚ö†Ô∏è WARNING: This will delete ALL data in "${databaseName}" database.\n\nAre you sure you want to continue?`);
            if (!firstConfirm) {
                console.log('‚ùå Database clear cancelled by user');
                return;
            }
            
            // Second confirmation - more specific
            const secondConfirm = confirm(`üö® FINAL CONFIRMATION:\n\nThis action cannot be undone!\n\nType "DELETE" in the next prompt to proceed, or click Cancel to abort.`);
            if (!secondConfirm) {
                console.log('‚ùå Database clear cancelled at second confirmation');
                return;
            }
            
            // Third step - require typing "DELETE"
            const typeConfirm = prompt('Type "DELETE" (all caps) to confirm database deletion:');
            if (typeConfirm !== 'DELETE') {
                alert('‚ùå Database clear cancelled - confirmation text did not match');
                console.log('‚ùå Database clear cancelled - user did not type DELETE');
                return;
            }
            
            try {
                console.log(`üóëÔ∏è Clearing database: ${databaseName}`);
                
                // Get all keys first to show what's being deleted
                const keys = await new Promise((resolve, reject) => {
                    const request = indexedDB.open(databaseName);
                    request.onsuccess = function(event) {
                        const db = event.target.result;
                        const storeName = db.objectStoreNames[0];
                        if (storeName) {
                            const transaction = db.transaction([storeName], 'readonly');
                            const store = transaction.objectStore(storeName);
                            store.getAllKeys().onsuccess = function(e) {
                                resolve(e.target.result);
                            };
                        } else {
                            resolve([]);
                        }
                    };
                    request.onerror = () => reject(request.error);
                });
                
                console.log(`üóëÔ∏è Deleting ${keys.length} keys:`, keys);
                
                // Clear all data by deleting each key
                await new Promise((resolve, reject) => {
                    const request = indexedDB.open(databaseName);
                    request.onsuccess = function(event) {
                        const db = event.target.result;
                        const storeName = db.objectStoreNames[0];
                        if (storeName && keys.length > 0) {
                            const transaction = db.transaction([storeName], 'readwrite');
                            const store = transaction.objectStore(storeName);
                            
                            // Clear the entire object store
                            const clearRequest = store.clear();
                            clearRequest.onsuccess = function() {
                                console.log('‚úÖ Database cleared successfully');
                                resolve();
                            };
                            clearRequest.onerror = () => reject(clearRequest.error);
                        } else {
                            console.log('üìÅ Database was already empty');
                            resolve();
                        }
                    };
                    request.onerror = () => reject(request.error);
                });
                
                alert(`‚úÖ Database "${databaseName}" has been cleared successfully!\n\n${keys.length} keys were deleted.`);
                
            } catch (error) {
                console.error('‚ùå Error clearing database:', error);
                alert('‚ùå Error clearing database: ' + error.message);
            }
        });
    }
});

// Embedded Video Functions
function showEmbeddedVideo(videoPath, textarea, videoPathInput, sectionKey) {
    const container = document.getElementById('embeddedVideoContainer');
    const title = document.getElementById('embeddedVideoTitle');
    const video = document.getElementById('embeddedVideoPlayer');
    const source = document.getElementById('embeddedVideoSource');
    const filename = document.getElementById('embeddedVideoFilename');
    
    // Generate title from path
    const fileName = videoPath.split('/').pop().split('.')[0];
    const videoTitle = fileName.charAt(0).toUpperCase() + fileName.slice(1);
    
    // Set up video content
    title.textContent = `Playing: ${videoTitle}`;
    source.src = videoPath;
    filename.textContent = videoPath; // Show the full file path
    video.load(); // Reload the video with new source
    
    // Ensure proper video controls and seeking
    video.controls = true;
    video.preload = 'metadata';
    
    // Add proper event listeners for seeking and debugging
    video.addEventListener('loadedmetadata', () => {
        console.log('Video loaded, duration:', video.duration);
        console.log('Video seekable ranges:', video.seekable.length);
    });
    
    video.addEventListener('seeking', () => {
        console.log('Seeking to:', video.currentTime);
    });
    
    video.addEventListener('seeked', () => {
        console.log('Seeked to:', video.currentTime);
    });
    
    video.addEventListener('click', (e) => {
        // Don't interfere with native controls
        e.stopPropagation();
    });
    
    // Ensure controls are properly enabled
    video.setAttribute('controlsList', '');
    
    // Show embedded container
    container.style.display = 'block';
    
    // Clear the video path input since we're now showing the video
    videoPathInput.value = '';
}

function closeEmbeddedVideo() {
    const container = document.getElementById('embeddedVideoContainer');
    const video = document.getElementById('embeddedVideoPlayer');
    
    container.style.display = 'none';
    video.pause(); // Pause video when closing
}

function closeVideoModal() {
    const modal = document.getElementById('videoModal');
    const modalVideo = document.getElementById('videoModalPlayer');
    
    modal.style.display = 'none';
    modalVideo.pause(); // Pause video when closing
    window.currentVideoEmbed = null;
}

function insertVideoMarkdown() {
    if (!window.currentVideoEmbed) return;
    
    const { videoPath, altText, textarea, videoPathInput, sectionKey } = window.currentVideoEmbed;
    
    // Create markdown video embed syntax
    const embedSyntax = `![${altText}](${videoPath})`;
    
    // Insert into textarea at cursor position or append
    const currentText = textarea.value;
    const cursorPos = textarea.selectionStart;
    const beforeCursor = currentText.substring(0, cursorPos);
    const afterCursor = currentText.substring(cursorPos);
    
    // Add appropriate spacing
    let prefix = '';
    let suffix = '';
    if (beforeCursor && !beforeCursor.endsWith('\n')) {
        prefix = '\n';
    }
    if (afterCursor && !afterCursor.startsWith('\n')) {
        suffix = '\n';
    }
    
    const newText = beforeCursor + prefix + embedSyntax + suffix + afterCursor;
    textarea.value = newText;
    
    // Update notes and trigger auto-save
    notes[sectionKey] = newText;
    let autoSaveTimeout;
    clearTimeout(autoSaveTimeout);
    autoSaveTimeout = setTimeout(() => {
        autoSaveToIndexedDB(newText);
    }, 1000);
    
    // Clear the input and focus back to textarea
    videoPathInput.value = '';
    textarea.focus();
    
    // Set cursor position after the inserted text
    const newCursorPos = cursorPos + prefix.length + embedSyntax.length + suffix.length;
    textarea.setSelectionRange(newCursorPos, newCursorPos);
    
    // Close modal
    closeVideoModal();
}

// Add event listeners for video modal
document.addEventListener('DOMContentLoaded', () => {
    const modal = document.getElementById('videoModal');
    const closeBtn = document.querySelector('.video-close');
    const cancelBtn = document.getElementById('cancelVideoBtn');
    const insertBtn = document.getElementById('insertMarkdownBtn');
    
    // Close modal events
    closeBtn.onclick = closeVideoModal;
    cancelBtn.onclick = closeVideoModal;
    
    // Insert markdown event
    insertBtn.onclick = insertVideoMarkdown;
    
    // Close modal when clicking outside of it
    window.onclick = function(event) {
        if (event.target === modal) {
            closeVideoModal();
        }
    };
    
    // ESC key to close modal
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.style.display === 'block') {
            closeVideoModal();
        }
    });
});
