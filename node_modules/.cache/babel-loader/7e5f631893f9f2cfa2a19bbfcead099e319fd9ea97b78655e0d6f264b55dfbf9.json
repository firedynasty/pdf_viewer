{"ast":null,"code":"var _jsxFileName = \"/Users/stanleytan/Documents/25-technical/02-react/05-pdf_auto_scroll/src/components/PDFAutoScroll.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PDFAutoScroll = ({\n  pdfViewerRef\n}) => {\n  _s();\n  // State variables for auto-scroll feature\n  const [autoScrollActive, setAutoScrollActive] = useState(false);\n  const [scrollIntervalSeconds, setScrollIntervalSeconds] = useState(13);\n  const [soundEnabled, setSoundEnabled] = useState(true);\n\n  // References for tracking scroll timing and audio\n  const lastScrollTimeRef = useRef(Date.now());\n  const audioContextRef = useRef(null);\n  const currentPageRef = useRef(1);\n\n  // Function to play a subtle audio beep\n  const playSubtleBeep = useCallback(() => {\n    if (!soundEnabled) return;\n    try {\n      // Create audio context on first use\n      if (!audioContextRef.current) {\n        audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n      }\n      const context = audioContextRef.current;\n\n      // Create oscillator for sound generation\n      const oscillator = context.createOscillator();\n      const gainNode = context.createGain();\n\n      // Configure sound properties (gentle, quiet beep)\n      oscillator.type = 'sine';\n      oscillator.frequency.value = 800;\n      gainNode.gain.value = 0.05;\n\n      // Connect audio nodes\n      oscillator.connect(gainNode);\n      gainNode.connect(context.destination);\n\n      // Play very short beep\n      gainNode.gain.setValueAtTime(0.05, context.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.001, context.currentTime + 0.15);\n      oscillator.start();\n      oscillator.stop(context.currentTime + 0.15);\n    } catch (error) {\n      console.error('Error playing notification sound:', error);\n    }\n  }, [soundEnabled]);\n\n  // Function to simulate clicking the Next button\n  const simulateNextButtonClick = useCallback(() => {\n    // Find the Next button\n    const nextButton = document.querySelector('.page-navigation button:last-child');\n    if (nextButton && !nextButton.disabled) {\n      // Click the button\n      nextButton.click();\n      return true;\n    }\n    return false;\n  }, []);\n\n  // Function to reset the scroll timer\n  const resetScrollTimer = useCallback(() => {\n    lastScrollTimeRef.current = Date.now();\n  }, []);\n\n  // Function to perform the scroll action in PDF context\n  const performScroll = useCallback(() => {\n    if (!pdfViewerRef.current) return;\n    try {\n      // Get current page and total pages\n      const viewer = pdfViewerRef.current;\n      const currentPage = viewer.currentPageNumber || 1;\n      const totalPages = viewer.pagesCount || 1;\n\n      // Safety check for valid values\n      if (currentPage <= 0 || totalPages <= 0) return;\n\n      // If we can move to the next page\n      if (currentPage < totalPages) {\n        // Simulate clicking the Next button\n        const success = simulateNextButtonClick();\n\n        // If button click simulation was successful\n        if (success) {\n          // Play sound if enabled\n          if (soundEnabled) {\n            playSubtleBeep();\n          }\n        } else {\n          // Fallback if button click simulation fails\n          currentPageRef.current = currentPage + 1;\n\n          // Dispatch event to change page\n          const pageChangeEvent = new CustomEvent('pageChange', {\n            detail: {\n              newPage: currentPage + 1\n            }\n          });\n          document.dispatchEvent(pageChangeEvent);\n\n          // Play sound if enabled\n          if (soundEnabled) {\n            playSubtleBeep();\n          }\n        }\n\n        // Always reset the timer after advancing\n        resetScrollTimer();\n      } else {\n        // We're at the last page, nothing to do\n        console.log(\"Reached the last page of the document\");\n      }\n    } catch (error) {\n      console.error('Error during auto-scroll:', error);\n      // Don't let errors break the auto-scroll functionality\n      resetScrollTimer();\n    }\n  }, [pdfViewerRef, soundEnabled, playSubtleBeep, simulateNextButtonClick, resetScrollTimer]);\n\n  // Set up interval for auto-scrolling with error recovery\n  useEffect(() => {\n    let intervalId;\n    let errorCount = 0;\n    if (autoScrollActive) {\n      intervalId = setInterval(() => {\n        try {\n          // Get current time\n          const now = Date.now();\n          // Only scroll if enough time has passed\n          if (now - lastScrollTimeRef.current >= scrollIntervalSeconds * 1000) {\n            performScroll();\n            // Reset error count on successful scroll\n            if (errorCount > 0) errorCount = 0;\n          }\n        } catch (error) {\n          // Error recovery strategy\n          errorCount++;\n          console.error(`Auto-scroll error (${errorCount}/3):`, error);\n\n          // If we encounter too many errors, disable auto-scroll to prevent a bad user experience\n          if (errorCount >= 3) {\n            console.warn(\"Too many auto-scroll errors, disabling auto-scroll\");\n            setAutoScrollActive(false);\n            errorCount = 0;\n\n            // Show error message to user (can be improved with a proper UI notification)\n            alert(\"Auto-scroll has been disabled due to errors. You can try enabling it again or use manual scrolling.\");\n          }\n\n          // Update last scroll time to prevent rapid retries\n          lastScrollTimeRef.current = Date.now();\n        }\n      }, 1000); // Check every second\n    }\n    return () => {\n      if (intervalId) clearInterval(intervalId);\n    };\n  }, [autoScrollActive, performScroll, scrollIntervalSeconds]);\n\n  // Monitor page changes\n  useEffect(() => {\n    // Instead of event listeners, we'll watch for changes to the pageNumber\n    if (pdfViewerRef.current) {\n      const newPage = pdfViewerRef.current.currentPageNumber;\n      if (newPage !== currentPageRef.current) {\n        currentPageRef.current = newPage;\n        lastScrollTimeRef.current = Date.now();\n      }\n    }\n  }, [pdfViewerRef]);\n\n  // Function to increase scroll speed\n  const increaseSpeed = () => {\n    setScrollIntervalSeconds(prev => Math.max(1, prev - 1));\n  };\n\n  // Function to decrease scroll speed\n  const decreaseSpeed = () => {\n    setScrollIntervalSeconds(prev => Math.min(60, prev + 1));\n  };\n\n  // Toggle auto-scroll on/off\n  const toggleAutoScroll = useCallback(() => {\n    setAutoScrollActive(prev => {\n      // Reset timer when turning on\n      if (!prev) {\n        lastScrollTimeRef.current = Date.now();\n      }\n      return !prev;\n    });\n  }, []);\n\n  // Listen for various events\n  useEffect(() => {\n    // Toggle auto-scroll with keyboard\n    const handleKeyDown = e => {\n      // Toggle auto-scroll with \"/\" key\n      if (e.key === '/') {\n        toggleAutoScroll();\n      }\n\n      // Simulate page down with 'm' key\n      if (e.key === 'm' || e.key === 'M') {\n        resetScrollTimer();\n        simulateNextButtonClick();\n      }\n\n      // Simulate page up with 'z' key\n      if (e.key === 'z' || e.key === 'Z') {\n        // Find the Previous button\n        const prevButton = document.querySelector('.page-navigation button:first-child');\n        if (prevButton && !prevButton.disabled) {\n          prevButton.click();\n        }\n      }\n    };\n\n    // Handle reset timer event from manual page navigation\n    const handleResetTimer = () => {\n      resetScrollTimer();\n    };\n\n    // Add event listeners\n    document.addEventListener('keydown', handleKeyDown);\n    document.addEventListener('resetAutoScrollTimer', handleResetTimer);\n\n    // Cleanup\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('resetAutoScrollTimer', handleResetTimer);\n    };\n  }, [toggleAutoScroll, resetScrollTimer, simulateNextButtonClick]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pdf-auto-scroll-controls\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleAutoScroll,\n      className: `scroll-toggle ${autoScrollActive ? 'active' : ''}`,\n      children: [\"SCROLL \", autoScrollActive ? 'ON' : 'OFF']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"speed-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: increaseSpeed,\n        disabled: scrollIntervalSeconds <= 1,\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"interval-display\",\n        children: [scrollIntervalSeconds, \"s\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: decreaseSpeed,\n        disabled: scrollIntervalSeconds >= 60,\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sound-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"SOUND:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          checked: soundEnabled,\n          onChange: () => setSoundEnabled(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), \"ON\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          checked: !soundEnabled,\n          onChange: () => setSoundEnabled(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), \"OFF\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 5\n  }, this);\n};\n_s(PDFAutoScroll, \"Z7lpdVNxEPesaHxACQIvVbw+8NY=\");\n_c = PDFAutoScroll;\nexport default PDFAutoScroll;\nvar _c;\n$RefreshReg$(_c, \"PDFAutoScroll\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","jsxDEV","_jsxDEV","PDFAutoScroll","pdfViewerRef","_s","autoScrollActive","setAutoScrollActive","scrollIntervalSeconds","setScrollIntervalSeconds","soundEnabled","setSoundEnabled","lastScrollTimeRef","Date","now","audioContextRef","currentPageRef","playSubtleBeep","current","window","AudioContext","webkitAudioContext","context","oscillator","createOscillator","gainNode","createGain","type","frequency","value","gain","connect","destination","setValueAtTime","currentTime","exponentialRampToValueAtTime","start","stop","error","console","simulateNextButtonClick","nextButton","document","querySelector","disabled","click","resetScrollTimer","performScroll","viewer","currentPage","currentPageNumber","totalPages","pagesCount","success","pageChangeEvent","CustomEvent","detail","newPage","dispatchEvent","log","intervalId","errorCount","setInterval","warn","alert","clearInterval","increaseSpeed","prev","Math","max","decreaseSpeed","min","toggleAutoScroll","handleKeyDown","e","key","prevButton","handleResetTimer","addEventListener","removeEventListener","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","checked","onChange","_c","$RefreshReg$"],"sources":["/Users/stanleytan/Documents/25-technical/02-react/05-pdf_auto_scroll/src/components/PDFAutoScroll.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\n\nconst PDFAutoScroll = ({ pdfViewerRef }) => {\n  // State variables for auto-scroll feature\n  const [autoScrollActive, setAutoScrollActive] = useState(false);\n  const [scrollIntervalSeconds, setScrollIntervalSeconds] = useState(13);\n  const [soundEnabled, setSoundEnabled] = useState(true);\n  \n  // References for tracking scroll timing and audio\n  const lastScrollTimeRef = useRef(Date.now());\n  const audioContextRef = useRef(null);\n  const currentPageRef = useRef(1);\n  \n  // Function to play a subtle audio beep\n  const playSubtleBeep = useCallback(() => {\n    if (!soundEnabled) return;\n    \n    try {\n      // Create audio context on first use\n      if (!audioContextRef.current) {\n        audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n      }\n      \n      const context = audioContextRef.current;\n      \n      // Create oscillator for sound generation\n      const oscillator = context.createOscillator();\n      const gainNode = context.createGain();\n      \n      // Configure sound properties (gentle, quiet beep)\n      oscillator.type = 'sine';\n      oscillator.frequency.value = 800;\n      gainNode.gain.value = 0.05;\n      \n      // Connect audio nodes\n      oscillator.connect(gainNode);\n      gainNode.connect(context.destination);\n      \n      // Play very short beep\n      gainNode.gain.setValueAtTime(0.05, context.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.001, context.currentTime + 0.15);\n      oscillator.start();\n      oscillator.stop(context.currentTime + 0.15);\n    } catch (error) {\n      console.error('Error playing notification sound:', error);\n    }\n  }, [soundEnabled]);\n  \n  // Function to simulate clicking the Next button\n  const simulateNextButtonClick = useCallback(() => {\n    // Find the Next button\n    const nextButton = document.querySelector('.page-navigation button:last-child');\n    if (nextButton && !nextButton.disabled) {\n      // Click the button\n      nextButton.click();\n      return true;\n    }\n    return false;\n  }, []);\n  \n  // Function to reset the scroll timer\n  const resetScrollTimer = useCallback(() => {\n    lastScrollTimeRef.current = Date.now();\n  }, []);\n  \n  // Function to perform the scroll action in PDF context\n  const performScroll = useCallback(() => {\n    if (!pdfViewerRef.current) return;\n    \n    try {\n      // Get current page and total pages\n      const viewer = pdfViewerRef.current;\n      const currentPage = viewer.currentPageNumber || 1;\n      const totalPages = viewer.pagesCount || 1;\n      \n      // Safety check for valid values\n      if (currentPage <= 0 || totalPages <= 0) return;\n      \n      // If we can move to the next page\n      if (currentPage < totalPages) {\n        // Simulate clicking the Next button\n        const success = simulateNextButtonClick();\n        \n        // If button click simulation was successful\n        if (success) {\n          // Play sound if enabled\n          if (soundEnabled) {\n            playSubtleBeep();\n          }\n        } else {\n          // Fallback if button click simulation fails\n          currentPageRef.current = currentPage + 1;\n          \n          // Dispatch event to change page\n          const pageChangeEvent = new CustomEvent('pageChange', { \n            detail: { newPage: currentPage + 1 } \n          });\n          document.dispatchEvent(pageChangeEvent);\n          \n          // Play sound if enabled\n          if (soundEnabled) {\n            playSubtleBeep();\n          }\n        }\n        \n        // Always reset the timer after advancing\n        resetScrollTimer();\n      } else {\n        // We're at the last page, nothing to do\n        console.log(\"Reached the last page of the document\");\n      }\n    } catch (error) {\n      console.error('Error during auto-scroll:', error);\n      // Don't let errors break the auto-scroll functionality\n      resetScrollTimer();\n    }\n  }, [pdfViewerRef, soundEnabled, playSubtleBeep, simulateNextButtonClick, resetScrollTimer]);\n  \n  // Set up interval for auto-scrolling with error recovery\n  useEffect(() => {\n    let intervalId;\n    let errorCount = 0;\n    \n    if (autoScrollActive) {\n      intervalId = setInterval(() => {\n        try {\n          // Get current time\n          const now = Date.now();\n          // Only scroll if enough time has passed\n          if (now - lastScrollTimeRef.current >= scrollIntervalSeconds * 1000) {\n            performScroll();\n            // Reset error count on successful scroll\n            if (errorCount > 0) errorCount = 0;\n          }\n        } catch (error) {\n          // Error recovery strategy\n          errorCount++;\n          console.error(`Auto-scroll error (${errorCount}/3):`, error);\n          \n          // If we encounter too many errors, disable auto-scroll to prevent a bad user experience\n          if (errorCount >= 3) {\n            console.warn(\"Too many auto-scroll errors, disabling auto-scroll\");\n            setAutoScrollActive(false);\n            errorCount = 0;\n            \n            // Show error message to user (can be improved with a proper UI notification)\n            alert(\"Auto-scroll has been disabled due to errors. You can try enabling it again or use manual scrolling.\");\n          }\n          \n          // Update last scroll time to prevent rapid retries\n          lastScrollTimeRef.current = Date.now();\n        }\n      }, 1000); // Check every second\n    }\n    \n    return () => {\n      if (intervalId) clearInterval(intervalId);\n    };\n  }, [autoScrollActive, performScroll, scrollIntervalSeconds]);\n  \n  // Monitor page changes\n  useEffect(() => {\n    // Instead of event listeners, we'll watch for changes to the pageNumber\n    if (pdfViewerRef.current) {\n      const newPage = pdfViewerRef.current.currentPageNumber;\n      if (newPage !== currentPageRef.current) {\n        currentPageRef.current = newPage;\n        lastScrollTimeRef.current = Date.now();\n      }\n    }\n  }, [pdfViewerRef]);\n  \n  // Function to increase scroll speed\n  const increaseSpeed = () => {\n    setScrollIntervalSeconds(prev => Math.max(1, prev - 1));\n  };\n  \n  // Function to decrease scroll speed\n  const decreaseSpeed = () => {\n    setScrollIntervalSeconds(prev => Math.min(60, prev + 1));\n  };\n  \n  // Toggle auto-scroll on/off\n  const toggleAutoScroll = useCallback(() => {\n    setAutoScrollActive(prev => {\n      // Reset timer when turning on\n      if (!prev) {\n        lastScrollTimeRef.current = Date.now();\n      }\n      return !prev;\n    });\n  }, []);\n  \n  // Listen for various events\n  useEffect(() => {\n    // Toggle auto-scroll with keyboard\n    const handleKeyDown = (e) => {\n      // Toggle auto-scroll with \"/\" key\n      if (e.key === '/') {\n        toggleAutoScroll();\n      }\n      \n      // Simulate page down with 'm' key\n      if (e.key === 'm' || e.key === 'M') {\n        resetScrollTimer();\n        simulateNextButtonClick();\n      }\n      \n      // Simulate page up with 'z' key\n      if (e.key === 'z' || e.key === 'Z') {\n        // Find the Previous button\n        const prevButton = document.querySelector('.page-navigation button:first-child');\n        if (prevButton && !prevButton.disabled) {\n          prevButton.click();\n        }\n      }\n    };\n    \n    // Handle reset timer event from manual page navigation\n    const handleResetTimer = () => {\n      resetScrollTimer();\n    };\n    \n    // Add event listeners\n    document.addEventListener('keydown', handleKeyDown);\n    document.addEventListener('resetAutoScrollTimer', handleResetTimer);\n    \n    // Cleanup\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('resetAutoScrollTimer', handleResetTimer);\n    };\n  }, [toggleAutoScroll, resetScrollTimer, simulateNextButtonClick]);\n  \n  return (\n    <div className=\"pdf-auto-scroll-controls\">\n      <button \n        onClick={toggleAutoScroll}\n        className={`scroll-toggle ${autoScrollActive ? 'active' : ''}`}\n      >\n        SCROLL {autoScrollActive ? 'ON' : 'OFF'}\n      </button>\n      \n      <div className=\"speed-controls\">\n        <button onClick={increaseSpeed} disabled={scrollIntervalSeconds <= 1}>-</button>\n        <span className=\"interval-display\">{scrollIntervalSeconds}s</span>\n        <button onClick={decreaseSpeed} disabled={scrollIntervalSeconds >= 60}>+</button>\n      </div>\n      \n      <div className=\"sound-controls\">\n        <span>SOUND:</span>\n        <label>\n          <input\n            type=\"radio\"\n            checked={soundEnabled}\n            onChange={() => setSoundEnabled(true)}\n          />\n          ON\n        </label>\n        <label>\n          <input\n            type=\"radio\"\n            checked={!soundEnabled}\n            onChange={() => setSoundEnabled(false)}\n          />\n          OFF\n        </label>\n      </div>\n    </div>\n  );\n};\n\nexport default PDFAutoScroll;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}